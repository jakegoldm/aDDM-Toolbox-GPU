\doxysection{ddm\+\_\+mle.\+py}
\hypertarget{ddm__mle_8py_source}{}\label{ddm__mle_8py_source}\index{python/ddm\_mle.py@{python/ddm\_mle.py}}
\mbox{\hyperlink{ddm__mle_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00001}\mbox{\hyperlink{namespaceddm__mle}{00001}}\ \textcolor{keyword}{import}\ matplotlib.pyplot\ \textcolor{keyword}{as}\ plt\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00002}00002\ \textcolor{keyword}{import}\ pandas\ \textcolor{keyword}{as}\ pd}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00003}00003\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00004}00004\ \textcolor{keyword}{from}\ datetime\ \textcolor{keyword}{import}\ datetime}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00005}00005\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00007}\mbox{\hyperlink{namespaceddm__mle_abd11aaa384a83643d451f1097c39f939}{00007}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceddm__mle_abd11aaa384a83643d451f1097c39f939}{main}}():}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00008}00008\ \ \ \ \ data\ =\ pd.read\_csv(\textcolor{stringliteral}{"{}results/ddm\_mle.csv"{}})}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00010}00010\ \ \ \ \ \textcolor{comment}{\#\ Create\ a\ pivot\ table\ to\ reshape\ the\ data}}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00011}00011\ \ \ \ \ pivot\_table\ =\ pd.pivot\_table(data,\ values=\textcolor{stringliteral}{'NLL'},\ index=\textcolor{stringliteral}{'sigma'},\ columns=\textcolor{stringliteral}{'d'})}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00013}00013\ \ \ \ \ \textcolor{comment}{\#\ Convert\ the\ pivot\ table\ to\ a\ numpy\ array}}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00014}00014\ \ \ \ \ heatmap\_data\ =\ pivot\_table.values}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00016}00016\ \ \ \ \ \textcolor{comment}{\#\ Create\ the\ heatmap}}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00017}00017\ \ \ \ \ \_,\ ax\ =\ plt.subplots()}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00018}00018\ \ \ \ \ im\ =\ ax.imshow(heatmap\_data,\ cmap=\textcolor{stringliteral}{'cividis'},\ aspect=\textcolor{stringliteral}{'auto'},\ vmax=6500)}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00020}00020\ \ \ \ \ xlabs\ =\ set()}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00021}00021\ \ \ \ \ \textcolor{keywordflow}{for}\ row\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{'d'}]:}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00022}00022\ \ \ \ \ \ \ \ \ xlabs.add(row)}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00023}00023\ \ \ \ \ xlabs\ =\ list(xlabs)}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00024}00024\ \ \ \ \ xlabs.reverse()}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00026}00026\ \ \ \ \ ylabs\ =\ set()}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00027}00027\ \ \ \ \ \textcolor{keywordflow}{for}\ row\ \textcolor{keywordflow}{in}\ data[\textcolor{stringliteral}{'sigma'}]:}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ ylabs.add(row)}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00029}00029\ \ \ \ \ ylabs\ =\ list(ylabs)}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00030}00030\ \ \ \ \ ylabs.sort()}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00032}00032\ \ \ \ \ ax.set\_xticks(np.arange(len(xlabs)),\ labels=xlabs)}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00033}00033\ \ \ \ \ ax.set\_yticks(np.arange(len(ylabs)),\ labels=ylabs)}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00034}00034\ \ \ \ \ \_\ =\ ax.figure.colorbar(im,\ ax=ax)}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00035}00035\ \ \ \ \ ax.set\_xlabel(\textcolor{stringliteral}{'d'})}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00036}00036\ \ \ \ \ ax.set\_ylabel(\textcolor{stringliteral}{'sigma'})}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00037}00037\ \ \ \ \ ax.set\_title(\textcolor{stringliteral}{'NLL\ Heatmap'})}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00039}00039\ \ \ \ \ \textcolor{keywordflow}{if}\ (len(sys.argv)\ >\ 1\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{"{}save"{}}\ \textcolor{keywordflow}{in}\ sys.argv):}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00040}00040\ \ \ \ \ \ \ \ \ currTime\ =\ datetime.now().strftime(\textcolor{stringliteral}{u"{}\%Y-\/\%m-\/\%d\_\%H:\%M:\%S"{}})}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00041}00041\ \ \ \ \ \ \ \ \ plt.savefig(\textcolor{stringliteral}{"{}imgs/ddm\_mle\_"{}}\ +\ currTime\ +\ \textcolor{stringliteral}{"{}.png"{}})}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00043}00043\ \ \ \ \ plt.show()}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00046}00046\ \textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{ddm__mle_8py_source_l00047}00047\ \ \ \ \ \mbox{\hyperlink{namespaceddm__mle_abd11aaa384a83643d451f1097c39f939}{main}}()}

\end{DoxyCode}

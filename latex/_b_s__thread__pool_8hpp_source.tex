\doxysection{BS\+\_\+thread\+\_\+pool.\+hpp}
\hypertarget{_b_s__thread__pool_8hpp_source}{}\label{_b_s__thread__pool_8hpp_source}\index{include/bshoshany/BS\_thread\_pool.hpp@{include/bshoshany/BS\_thread\_pool.hpp}}
\mbox{\hyperlink{_b_s__thread__pool_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00013}\mbox{\hyperlink{_b_s__thread__pool_8hpp_a1149cbbef0b0be59576a0787b2606af4}{00013}}\ \textcolor{preprocessor}{\#define\ BS\_THREAD\_POOL\_VERSION\ "{}v3.5.0\ (2023-\/05-\/25)"{}}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00015}00015\ \textcolor{preprocessor}{\#include\ <chrono>}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::chrono}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00016}00016\ \textcolor{preprocessor}{\#include\ <condition\_variable>}\ \textcolor{comment}{//\ std::condition\_variable}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00017}00017\ \textcolor{preprocessor}{\#include\ <exception>}\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::current\_exception}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00018}00018\ \textcolor{preprocessor}{\#include\ <functional>}\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::bind,\ std::function,\ std::invoke}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00019}00019\ \textcolor{preprocessor}{\#include\ <future>}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::future,\ std::promise}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00020}00020\ \textcolor{preprocessor}{\#include\ <iostream>}\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::cout,\ std::endl,\ std::flush,\ std::ostream}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00021}00021\ \textcolor{preprocessor}{\#include\ <memory>}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::make\_shared,\ std::make\_unique,\ std::shared\_ptr,\ std::unique\_ptr}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00022}00022\ \textcolor{preprocessor}{\#include\ <mutex>}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::mutex,\ std::scoped\_lock,\ std::unique\_lock}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00023}00023\ \textcolor{preprocessor}{\#include\ <queue>}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::queue}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00024}00024\ \textcolor{preprocessor}{\#include\ <thread>}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::thread}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00025}00025\ \textcolor{preprocessor}{\#include\ <type\_traits>}\ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::common\_type\_t,\ std::conditional\_t,\ std::decay\_t,\ std::invoke\_result\_t,\ std::is\_void\_v}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00026}00026\ \textcolor{preprocessor}{\#include\ <utility>}\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::forward,\ std::move,\ std::swap}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00027}00027\ \textcolor{preprocessor}{\#include\ <vector>}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ std::vector}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00029}\mbox{\hyperlink{namespace_b_s}{00029}}\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_b_s}{BS}}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00030}00030\ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00034}\mbox{\hyperlink{namespace_b_s_a7bb1747ef283bd1349183c445ee89aaa}{00034}}\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_b_s_a7bb1747ef283bd1349183c445ee89aaa}{concurrency\_t}}\ =\ std::invoke\_result\_t<\textcolor{keyword}{decltype}(std::thread::hardware\_concurrency)>;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00036}00036\ \textcolor{comment}{//\ =============================================================================================\ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00037}00037\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Begin\ class\ multi\_future\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00044}00044\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00045}\mbox{\hyperlink{class_b_s_1_1multi__future}{00045}}\ \textcolor{keyword}{class\ }[[nodiscard]]\ \mbox{\hyperlink{class_b_s_1_1multi__future}{multi\_future}}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00046}00046\ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00047}00047\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00053}\mbox{\hyperlink{class_b_s_1_1multi__future_a320812d6a9287fa2aedf3deab6edee1a}{00053}}\ \ \ \ \ \mbox{\hyperlink{class_b_s_1_1multi__future_a320812d6a9287fa2aedf3deab6edee1a}{multi\_future}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ num\_futures\_\ =\ 0)\ :\ futures(num\_futures\_)\ \{\}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00060}\mbox{\hyperlink{class_b_s_1_1multi__future_ad2b19061c7db1d50a35858e17dcd2268}{00060}}\ \ \ \ \ [[nodiscard]]\ std::conditional\_t<std::is\_void\_v<T>,\ void,\ std::vector<T>>\ \mbox{\hyperlink{class_b_s_1_1multi__future_ad2b19061c7db1d50a35858e17dcd2268}{get}}()}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00061}00061\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_void\_v<T>)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00063}00063\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ futures.size();\ ++i)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ futures[i].get();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00067}00067\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00068}00068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00069}00069\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<T>\ results(futures.size());}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ futures.size();\ ++i)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ results[i]\ =\ futures[i].get();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ results;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00074}00074\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00075}00075\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00083}\mbox{\hyperlink{class_b_s_1_1multi__future_a304215df62ff42c3f32eb707b99db47e}{00083}}\ \ \ \ \ [[nodiscard]]\ std::future<T>\&\ \mbox{\hyperlink{class_b_s_1_1multi__future_a304215df62ff42c3f32eb707b99db47e}{operator[]}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ i)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00084}00084\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ futures[i];}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00086}00086\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00093}\mbox{\hyperlink{class_b_s_1_1multi__future_a6af9fb74e856f779a1722d2018afebee}{00093}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1multi__future_a6af9fb74e856f779a1722d2018afebee}{push\_back}}(std::future<T>\ future)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00094}00094\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00095}00095\ \ \ \ \ \ \ \ \ futures.push\_back(std::move(future));}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00096}00096\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00097}00097\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00103}\mbox{\hyperlink{class_b_s_1_1multi__future_abf3325699649c91f9dd88f5a252e742e}{00103}}\ \ \ \ \ [[nodiscard]]\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_b_s_1_1multi__future_abf3325699649c91f9dd88f5a252e742e}{size}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00104}00104\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ futures.size();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00106}00106\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00111}\mbox{\hyperlink{class_b_s_1_1multi__future_a05073ed8d37b939c9440ac8789b69ba7}{00111}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1multi__future_a05073ed8d37b939c9440ac8789b69ba7}{wait}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00112}00112\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00113}00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ futures.size();\ ++i)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ futures[i].wait();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00115}00115\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00116}00116\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00117}00117\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00121}00121\ \ \ \ \ std::vector<std::future<T>>\ futures;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00122}00122\ \};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00124}00124\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ End\ class\ multi\_future\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00125}00125\ \textcolor{comment}{//\ =============================================================================================\ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00127}00127\ \textcolor{comment}{//\ =============================================================================================\ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00128}00128\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Begin\ class\ blocks\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00129}00129\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00137}00137\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2,\ \textcolor{keyword}{typename}\ T\ =\ std::common\_type\_t<T1,\ T2>>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00138}\mbox{\hyperlink{class_b_s_1_1blocks}{00138}}\ \textcolor{keyword}{class\ }[[nodiscard]]\ \mbox{\hyperlink{class_b_s_1_1blocks}{blocks}}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00139}00139\ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00140}00140\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00148}\mbox{\hyperlink{class_b_s_1_1blocks_a2e938fc32ea845e8a0cf23025c6830c7}{00148}}\ \ \ \ \ \mbox{\hyperlink{class_b_s_1_1blocks_a2e938fc32ea845e8a0cf23025c6830c7}{blocks}}(\textcolor{keyword}{const}\ T1\ first\_index\_,\ \textcolor{keyword}{const}\ T2\ index\_after\_last\_,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ num\_blocks\_)\ :\ first\_index(static\_cast<T>(first\_index\_)),\ index\_after\_last(static\_cast<T>(index\_after\_last\_)),\ num\_blocks(num\_blocks\_)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00149}00149\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00150}00150\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (index\_after\_last\ <\ first\_index)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacestd_ab5fa3119ddc434392ecca8849e2e08e1}{std::swap}}(index\_after\_last,\ first\_index);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00152}00152\ \ \ \ \ \ \ \ \ total\_size\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(index\_after\_last\ -\/\ first\_index);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00153}00153\ \ \ \ \ \ \ \ \ block\_size\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(total\_size\ /\ num\_blocks);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00154}00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (block\_size\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00155}00155\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ block\_size\ =\ 1;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ num\_blocks\ =\ (total\_size\ >\ 1)\ ?\ total\_size\ :\ 1;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00158}00158\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00159}00159\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00167}\mbox{\hyperlink{class_b_s_1_1blocks_a7d659984a82cf57e54773d9a88d863ae}{00167}}\ \ \ \ \ [[nodiscard]]\ T\ \mbox{\hyperlink{class_b_s_1_1blocks_a7d659984a82cf57e54773d9a88d863ae}{start}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ i)\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00168}00168\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00169}00169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(i\ *\ block\_size)\ +\ first\_index;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00170}00170\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00171}00171\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00178}\mbox{\hyperlink{class_b_s_1_1blocks_a0f0e08f9eff06a0d8e3b05bf59833c7b}{00178}}\ \ \ \ \ [[nodiscard]]\ T\ \mbox{\hyperlink{class_b_s_1_1blocks_a0f0e08f9eff06a0d8e3b05bf59833c7b}{end}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ i)\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00179}00179\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00180}00180\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (i\ ==\ num\_blocks\ -\/\ 1)\ ?\ index\_after\_last\ :\ (\textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}((i\ +\ 1)\ *\ block\_size)\ +\ first\_index);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00181}00181\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00182}00182\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00188}\mbox{\hyperlink{class_b_s_1_1blocks_aed50be83dbe428959cb600197df32c95}{00188}}\ \ \ \ \ [[nodiscard]]\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_b_s_1_1blocks_aed50be83dbe428959cb600197df32c95}{get\_num\_blocks}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00189}00189\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00190}00190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ num\_blocks;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00191}00191\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00192}00192\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00198}\mbox{\hyperlink{class_b_s_1_1blocks_a5f1214e4fdf05ff4d825d08cf8c66b2b}{00198}}\ \ \ \ \ [[nodiscard]]\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_b_s_1_1blocks_a5f1214e4fdf05ff4d825d08cf8c66b2b}{get\_total\_size}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00199}00199\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00200}00200\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ total\_size;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00201}00201\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00202}00202\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00203}00203\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00207}00207\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ block\_size\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00208}00208\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00212}00212\ \ \ \ \ T\ first\_index\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00213}00213\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00217}00217\ \ \ \ \ T\ index\_after\_last\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00218}00218\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00222}00222\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ num\_blocks\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00223}00223\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00227}00227\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ total\_size\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00228}00228\ \};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00229}00229\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00230}00230\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ End\ class\ blocks\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00231}00231\ \textcolor{comment}{//\ =============================================================================================\ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00232}00232\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00233}00233\ \textcolor{comment}{//\ =============================================================================================\ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00234}00234\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Begin\ class\ thread\_pool\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00235}00235\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00239}\mbox{\hyperlink{class_b_s_1_1thread__pool}{00239}}\ \textcolor{keyword}{class\ }[[nodiscard]]\ \mbox{\hyperlink{class_b_s_1_1thread__pool}{thread\_pool}}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00240}00240\ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00241}00241\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00242}00242\ \ \ \ \ \textcolor{comment}{//\ ============================}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00243}00243\ \ \ \ \ \textcolor{comment}{//\ Constructors\ and\ destructors}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00244}00244\ \ \ \ \ \textcolor{comment}{//\ ============================}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00245}00245\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00251}\mbox{\hyperlink{class_b_s_1_1thread__pool_af0705b5edcf3809e4f133272e8070d12}{00251}}\ \ \ \ \ \mbox{\hyperlink{class_b_s_1_1thread__pool_af0705b5edcf3809e4f133272e8070d12}{thread\_pool}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_b_s_a7bb1747ef283bd1349183c445ee89aaa}{concurrency\_t}}\ thread\_count\_\ =\ 0)\ :\ thread\_count(determine\_thread\_count(thread\_count\_)),\ threads(\mbox{\hyperlink{namespacestd}{std}}::make\_unique<\mbox{\hyperlink{namespacestd}{std}}::thread[]>(determine\_thread\_count(thread\_count\_)))}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00252}00252\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00253}00253\ \ \ \ \ \ \ \ \ create\_threads();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00254}00254\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00255}00255\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00259}\mbox{\hyperlink{class_b_s_1_1thread__pool_a1f7cc32367d0d0c020bf103782506998}{00259}}\ \ \ \ \ \mbox{\hyperlink{class_b_s_1_1thread__pool_a1f7cc32367d0d0c020bf103782506998}{\string~thread\_pool}}()}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00260}00260\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00261}00261\ \ \ \ \ \ \ \ \ wait\_for\_tasks();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00262}00262\ \ \ \ \ \ \ \ \ destroy\_threads();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00263}00263\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00264}00264\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00265}00265\ \ \ \ \ \textcolor{comment}{//\ =======================}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00266}00266\ \ \ \ \ \textcolor{comment}{//\ Public\ member\ functions}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00267}00267\ \ \ \ \ \textcolor{comment}{//\ =======================}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00268}00268\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00274}\mbox{\hyperlink{class_b_s_1_1thread__pool_ab5faf242cb0eacbb5c1142a2bd966468}{00274}}\ \ \ \ \ [[nodiscard]]\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_ab5faf242cb0eacbb5c1142a2bd966468}{get\_tasks\_queued}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00275}00275\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00276}00276\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::scoped\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00277}00277\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tasks.size();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00278}00278\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00279}00279\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00285}\mbox{\hyperlink{class_b_s_1_1thread__pool_a07b4d97e3a9e40e3228e2ed1f9a717cc}{00285}}\ \ \ \ \ [[nodiscard]]\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_a07b4d97e3a9e40e3228e2ed1f9a717cc}{get\_tasks\_running}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00286}00286\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00287}00287\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::scoped\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00288}00288\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tasks\_running;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00289}00289\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00290}00290\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00296}\mbox{\hyperlink{class_b_s_1_1thread__pool_afdec64ff8998d66017cc185ae397e064}{00296}}\ \ \ \ \ [[nodiscard]]\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_afdec64ff8998d66017cc185ae397e064}{get\_tasks\_total}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00297}00297\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00298}00298\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::scoped\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00299}00299\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tasks\_running\ +\ tasks.size();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00300}00300\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00301}00301\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00307}\mbox{\hyperlink{class_b_s_1_1thread__pool_afe1cb80839e30f218818e99af4d1dc64}{00307}}\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{namespace_b_s_a7bb1747ef283bd1349183c445ee89aaa}{concurrency\_t}}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_afe1cb80839e30f218818e99af4d1dc64}{get\_thread\_count}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00308}00308\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00309}00309\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ thread\_count;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00310}00310\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00311}00311\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00317}\mbox{\hyperlink{class_b_s_1_1thread__pool_adc7938f7b2b9140c3f6e729b48db79b2}{00317}}\ \ \ \ \ [[nodiscard]]\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_adc7938f7b2b9140c3f6e729b48db79b2}{is\_paused}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00318}00318\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00319}00319\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::scoped\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00320}00320\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ paused;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00321}00321\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00322}00322\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00337}00337\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F,\ \textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2,\ \textcolor{keyword}{typename}\ T\ =\ std::common\_type\_t<T1,\ T2>,\ \textcolor{keyword}{typename}\ R\ =\ std::invoke\_result\_t<std::decay\_t<F>,\ T,\ T>>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00338}\mbox{\hyperlink{class_b_s_1_1thread__pool_ab63b1085ad48295d7f653cbb36a286be}{00338}}\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{class_b_s_1_1multi__future}{multi\_future<R>}}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_ab63b1085ad48295d7f653cbb36a286be}{parallelize\_loop}}(\textcolor{keyword}{const}\ T1\ first\_index,\ \textcolor{keyword}{const}\ T2\ index\_after\_last,\ F\&\&\ loop,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ num\_blocks\ =\ 0)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00339}00339\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00340}00340\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_s_1_1blocks}{blocks}}\ blks(first\_index,\ index\_after\_last,\ num\_blocks\ ?\ num\_blocks\ :\ thread\_count);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00341}00341\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (blks.\mbox{\hyperlink{class_b_s_1_1blocks_a5f1214e4fdf05ff4d825d08cf8c66b2b}{get\_total\_size}}()\ >\ 0)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00342}00342\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00343}00343\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_s_1_1multi__future}{multi\_future<R>}}\ mf(blks.\mbox{\hyperlink{class_b_s_1_1blocks_aed50be83dbe428959cb600197df32c95}{get\_num\_blocks}}());}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00344}00344\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ blks.\mbox{\hyperlink{class_b_s_1_1blocks_aed50be83dbe428959cb600197df32c95}{get\_num\_blocks}}();\ ++i)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00345}00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mf[i]\ =\ submit(std::forward<F>(loop),\ blks.\mbox{\hyperlink{class_b_s_1_1blocks_a7d659984a82cf57e54773d9a88d863ae}{start}}(i),\ blks.\mbox{\hyperlink{class_b_s_1_1blocks_a0f0e08f9eff06a0d8e3b05bf59833c7b}{end}}(i));}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mf;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00347}00347\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00348}00348\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00349}00349\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00350}00350\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_b_s_1_1multi__future}{multi\_future<R>}}();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00351}00351\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00352}00352\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00353}00353\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00365}00365\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F,\ \textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ R\ =\ std::invoke\_result\_t<std::decay\_t<F>,\ T,\ T>>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00366}\mbox{\hyperlink{class_b_s_1_1thread__pool_a2f4e0c7b8e0ac08d9cdad40defd36f30}{00366}}\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{class_b_s_1_1multi__future}{multi\_future<R>}}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_a2f4e0c7b8e0ac08d9cdad40defd36f30}{parallelize\_loop}}(\textcolor{keyword}{const}\ T\ index\_after\_last,\ F\&\&\ loop,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ num\_blocks\ =\ 0)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00367}00367\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00368}00368\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ parallelize\_loop(0,\ index\_after\_last,\ std::forward<F>(loop),\ num\_blocks);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00369}00369\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00370}00370\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00374}\mbox{\hyperlink{class_b_s_1_1thread__pool_aefb5f1e179eb97f6458d4f77fbb331fd}{00374}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_aefb5f1e179eb97f6458d4f77fbb331fd}{pause}}()}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00375}00375\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00376}00376\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::scoped\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00377}00377\ \ \ \ \ \ \ \ \ paused\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00378}00378\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00379}00379\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00383}\mbox{\hyperlink{class_b_s_1_1thread__pool_ab7b0b929324dad46b60a0321477ca352}{00383}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_ab7b0b929324dad46b60a0321477ca352}{purge}}()}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00384}00384\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00385}00385\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::scoped\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00386}00386\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (!tasks.empty())}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00387}00387\ \ \ \ \ \ \ \ \ \ \ \ \ tasks.pop();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00388}00388\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00389}00389\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00402}00402\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F,\ \textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2,\ \textcolor{keyword}{typename}\ T\ =\ std::common\_type\_t<T1,\ T2>>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00403}\mbox{\hyperlink{class_b_s_1_1thread__pool_ae7cec549d4a8729beac50f5eba3ec63f}{00403}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_ae7cec549d4a8729beac50f5eba3ec63f}{push\_loop}}(\textcolor{keyword}{const}\ T1\ first\_index,\ \textcolor{keyword}{const}\ T2\ index\_after\_last,\ F\&\&\ loop,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ num\_blocks\ =\ 0)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00404}00404\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00405}00405\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_s_1_1blocks}{blocks}}\ blks(first\_index,\ index\_after\_last,\ num\_blocks\ ?\ num\_blocks\ :\ thread\_count);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00406}00406\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (blks.\mbox{\hyperlink{class_b_s_1_1blocks_a5f1214e4fdf05ff4d825d08cf8c66b2b}{get\_total\_size}}()\ >\ 0)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00407}00407\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00408}00408\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ blks.\mbox{\hyperlink{class_b_s_1_1blocks_aed50be83dbe428959cb600197df32c95}{get\_num\_blocks}}();\ ++i)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00409}00409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ push\_task(std::forward<F>(loop),\ blks.\mbox{\hyperlink{class_b_s_1_1blocks_a7d659984a82cf57e54773d9a88d863ae}{start}}(i),\ blks.\mbox{\hyperlink{class_b_s_1_1blocks_a0f0e08f9eff06a0d8e3b05bf59833c7b}{end}}(i));}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00410}00410\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00411}00411\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00412}00412\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00422}00422\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00423}\mbox{\hyperlink{class_b_s_1_1thread__pool_a2ffca1428e1f111220b5f9aed9ff9eac}{00423}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_a2ffca1428e1f111220b5f9aed9ff9eac}{push\_loop}}(\textcolor{keyword}{const}\ T\ index\_after\_last,\ F\&\&\ loop,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ num\_blocks\ =\ 0)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00424}00424\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00425}00425\ \ \ \ \ \ \ \ \ push\_loop(0,\ index\_after\_last,\ std::forward<F>(loop),\ num\_blocks);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00426}00426\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00427}00427\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00436}00436\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F,\ \textcolor{keyword}{typename}...\ A>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00437}\mbox{\hyperlink{class_b_s_1_1thread__pool_a016a2a6a7a9c844c94c606aaf517b21c}{00437}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_a016a2a6a7a9c844c94c606aaf517b21c}{push\_task}}(F\&\&\ task,\ A\&\&...\ args)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00438}00438\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00439}00439\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00440}00440\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::scoped\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00441}00441\ \ \ \ \ \ \ \ \ \ \ \ \ tasks.push(std::bind(std::forward<F>(task),\ std::forward<A>(args)...));\ \textcolor{comment}{//\ cppcheck-\/suppress\ ignoredReturnValue}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00442}00442\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00443}00443\ \ \ \ \ \ \ \ \ task\_available\_cv.notify\_one();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00444}00444\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00445}00445\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00451}\mbox{\hyperlink{class_b_s_1_1thread__pool_a5d3623b19c51a513fe4612b2157b0314}{00451}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_a5d3623b19c51a513fe4612b2157b0314}{reset}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_b_s_a7bb1747ef283bd1349183c445ee89aaa}{concurrency\_t}}\ thread\_count\_\ =\ 0)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00452}00452\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00453}00453\ \ \ \ \ \ \ \ \ std::unique\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00454}00454\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ was\_paused\ =\ paused;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00455}00455\ \ \ \ \ \ \ \ \ paused\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00456}00456\ \ \ \ \ \ \ \ \ tasks\_lock.unlock();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00457}00457\ \ \ \ \ \ \ \ \ wait\_for\_tasks();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00458}00458\ \ \ \ \ \ \ \ \ destroy\_threads();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00459}00459\ \ \ \ \ \ \ \ \ thread\_count\ =\ determine\_thread\_count(thread\_count\_);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00460}00460\ \ \ \ \ \ \ \ \ threads\ =\ std::make\_unique<std::thread[]>(thread\_count);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00461}00461\ \ \ \ \ \ \ \ \ paused\ =\ was\_paused;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00462}00462\ \ \ \ \ \ \ \ \ create\_threads();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00463}00463\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00464}00464\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00475}00475\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ F,\ \textcolor{keyword}{typename}...\ A,\ \textcolor{keyword}{typename}\ R\ =\ std::invoke\_result\_t<std::decay\_t<F>,\ std::decay\_t<A>...>>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00476}\mbox{\hyperlink{class_b_s_1_1thread__pool_ae308645aebac7a10b04aac0eb3a7c29c}{00476}}\ \ \ \ \ [[nodiscard]]\ std::future<R>\ \mbox{\hyperlink{class_b_s_1_1thread__pool_ae308645aebac7a10b04aac0eb3a7c29c}{submit}}(F\&\&\ task,\ A\&\&...\ args)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00477}00477\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00478}00478\ \ \ \ \ \ \ \ \ std::shared\_ptr<std::promise<R>>\ task\_promise\ =\ std::make\_shared<std::promise<R>>();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00479}00479\ \ \ \ \ \ \ \ \ push\_task(}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00480}00480\ \ \ \ \ \ \ \ \ \ \ \ \ [task\_function\ =\ std::bind(std::forward<F>(task),\ std::forward<A>(args)...),\ task\_promise]}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00481}00481\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00482}00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00483}00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00484}00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_void\_v<R>)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00485}00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00486}00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::invoke(task\_function);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00487}00487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ task\_promise-\/>set\_value();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00488}00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00489}00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00490}00490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ task\_promise-\/>set\_value(std::invoke(task\_function));}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00493}00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00494}00494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (...)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00495}00495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00496}00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00497}00497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00498}00498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ task\_promise-\/>set\_exception(std::current\_exception());}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00499}00499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00500}00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (...)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00501}00501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00502}00502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00503}00503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00504}00504\ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00505}00505\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ task\_promise-\/>get\_future();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00506}00506\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00507}00507\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00511}\mbox{\hyperlink{class_b_s_1_1thread__pool_ad57048e0479f878af3ac3a27031a2d6e}{00511}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_ad57048e0479f878af3ac3a27031a2d6e}{unpause}}()}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00512}00512\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00513}00513\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::scoped\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00514}00514\ \ \ \ \ \ \ \ \ paused\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00515}00515\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00516}00516\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00520}\mbox{\hyperlink{class_b_s_1_1thread__pool_a1e16153b1a14b5b4d8191168ccf6e4b8}{00520}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_a1e16153b1a14b5b4d8191168ccf6e4b8}{wait\_for\_tasks}}()}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00521}00521\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00522}00522\ \ \ \ \ \ \ \ \ std::unique\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00523}00523\ \ \ \ \ \ \ \ \ waiting\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00524}00524\ \ \ \ \ \ \ \ \ tasks\_done\_cv.wait(tasks\_lock,\ [\textcolor{keyword}{this}]\ \{\ \textcolor{keywordflow}{return}\ !tasks\_running\ \&\&\ (paused\ ||\ tasks.empty());\ \});}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00525}00525\ \ \ \ \ \ \ \ \ waiting\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00526}00526\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00527}00527\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00536}00536\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ R,\ \textcolor{keyword}{typename}\ P>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00537}\mbox{\hyperlink{class_b_s_1_1thread__pool_a980dc3c8de9114dc63b0fbfc979b031d}{00537}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_a980dc3c8de9114dc63b0fbfc979b031d}{wait\_for\_tasks\_duration}}(\textcolor{keyword}{const}\ std::chrono::duration<R,\ P>\&\ duration)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00538}00538\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00539}00539\ \ \ \ \ \ \ \ \ std::unique\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00540}00540\ \ \ \ \ \ \ \ \ waiting\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00541}00541\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ status\ =\ tasks\_done\_cv.wait\_for(tasks\_lock,\ duration,\ [\textcolor{keyword}{this}]\ \{\ \textcolor{keywordflow}{return}\ !tasks\_running\ \&\&\ (paused\ ||\ tasks.empty());\ \});}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00542}00542\ \ \ \ \ \ \ \ \ waiting\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00543}00543\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ status;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00544}00544\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00545}00545\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00554}00554\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ C,\ \textcolor{keyword}{typename}\ D>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00555}\mbox{\hyperlink{class_b_s_1_1thread__pool_a0bf42daf5d4e6536a32af2279c95b351}{00555}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_b_s_1_1thread__pool_a0bf42daf5d4e6536a32af2279c95b351}{wait\_for\_tasks\_until}}(\textcolor{keyword}{const}\ std::chrono::time\_point<C,\ D>\&\ timeout\_time)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00556}00556\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00557}00557\ \ \ \ \ \ \ \ \ std::unique\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00558}00558\ \ \ \ \ \ \ \ \ waiting\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00559}00559\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ status\ =\ tasks\_done\_cv.wait\_until(tasks\_lock,\ timeout\_time,\ [\textcolor{keyword}{this}]\ \{\ \textcolor{keywordflow}{return}\ !tasks\_running\ \&\&\ (paused\ ||\ tasks.empty());\ \});}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00560}00560\ \ \ \ \ \ \ \ \ waiting\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00561}00561\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ status;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00562}00562\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00563}00563\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00564}00564\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00565}00565\ \ \ \ \ \textcolor{comment}{//\ ========================}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00566}00566\ \ \ \ \ \textcolor{comment}{//\ Private\ member\ functions}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00567}00567\ \ \ \ \ \textcolor{comment}{//\ ========================}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00568}00568\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00572}00572\ \ \ \ \ \textcolor{keywordtype}{void}\ create\_threads()}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00573}00573\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00574}00574\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00575}00575\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::scoped\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00576}00576\ \ \ \ \ \ \ \ \ \ \ \ \ workers\_running\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00577}00577\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00578}00578\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (concurrency\_t\ i\ =\ 0;\ i\ <\ thread\_count;\ ++i)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00579}00579\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00580}00580\ \ \ \ \ \ \ \ \ \ \ \ \ threads[i]\ =\ std::thread(\&thread\_pool::worker,\ \textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00581}00581\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00582}00582\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00583}00583\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00587}00587\ \ \ \ \ \textcolor{keywordtype}{void}\ destroy\_threads()}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00588}00588\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00589}00589\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00590}00590\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::scoped\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00591}00591\ \ \ \ \ \ \ \ \ \ \ \ \ workers\_running\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00592}00592\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00593}00593\ \ \ \ \ \ \ \ \ task\_available\_cv.notify\_all();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00594}00594\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (concurrency\_t\ i\ =\ 0;\ i\ <\ thread\_count;\ ++i)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00595}00595\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00596}00596\ \ \ \ \ \ \ \ \ \ \ \ \ threads[i].join();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00597}00597\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00598}00598\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00599}00599\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00606}00606\ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{namespace_b_s_a7bb1747ef283bd1349183c445ee89aaa}{concurrency\_t}}\ determine\_thread\_count(\textcolor{keyword}{const}\ concurrency\_t\ thread\_count\_)\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00607}00607\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00608}00608\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (thread\_count\_\ >\ 0)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00609}00609\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ thread\_count\_;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00610}00610\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00611}00611\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00612}00612\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::thread::hardware\_concurrency()\ >\ 0)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00613}00613\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::thread::hardware\_concurrency();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00614}00614\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00615}00615\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00616}00616\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00617}00617\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00618}00618\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00622}00622\ \ \ \ \ \textcolor{keywordtype}{void}\ worker()}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00623}00623\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00624}00624\ \ \ \ \ \ \ \ \ std::function<void()>\ task;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00625}00625\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00626}00626\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00627}00627\ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_lock\ tasks\_lock(tasks\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00628}00628\ \ \ \ \ \ \ \ \ \ \ \ \ task\_available\_cv.wait(tasks\_lock,\ [\textcolor{keyword}{this}]\ \{\ \textcolor{keywordflow}{return}\ !tasks.empty()\ ||\ !workers\_running;\ \});}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00629}00629\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!workers\_running)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00630}00630\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00631}00631\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (paused)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00632}00632\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00633}00633\ \ \ \ \ \ \ \ \ \ \ \ \ task\ =\ std::move(tasks.front());}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00634}00634\ \ \ \ \ \ \ \ \ \ \ \ \ tasks.pop();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00635}00635\ \ \ \ \ \ \ \ \ \ \ \ \ ++tasks\_running;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00636}00636\ \ \ \ \ \ \ \ \ \ \ \ \ tasks\_lock.unlock();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00637}00637\ \ \ \ \ \ \ \ \ \ \ \ \ task();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00638}00638\ \ \ \ \ \ \ \ \ \ \ \ \ tasks\_lock.lock();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00639}00639\ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/tasks\_running;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00640}00640\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (waiting\ \&\&\ !tasks\_running\ \&\&\ (paused\ ||\ tasks.empty()))}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00641}00641\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tasks\_done\_cv.notify\_all();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00642}00642\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00643}00643\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00644}00644\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00645}00645\ \ \ \ \ \textcolor{comment}{//\ ============}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00646}00646\ \ \ \ \ \textcolor{comment}{//\ Private\ data}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00647}00647\ \ \ \ \ \textcolor{comment}{//\ ============}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00648}00648\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00652}00652\ \ \ \ \ \textcolor{keywordtype}{bool}\ paused\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00653}00653\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00657}00657\ \ \ \ \ std::condition\_variable\ task\_available\_cv\ =\ \{\};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00658}00658\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00662}00662\ \ \ \ \ std::condition\_variable\ tasks\_done\_cv\ =\ \{\};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00663}00663\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00667}00667\ \ \ \ \ std::queue<std::function<void()>>\ tasks\ =\ \{\};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00668}00668\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00672}00672\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ tasks\_running\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00673}00673\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00677}00677\ \ \ \ \ \textcolor{keyword}{mutable}\ std::mutex\ tasks\_mutex\ =\ \{\};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00678}00678\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00682}00682\ \ \ \ \ \mbox{\hyperlink{namespace_b_s_a7bb1747ef283bd1349183c445ee89aaa}{concurrency\_t}}\ thread\_count\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00683}00683\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00687}00687\ \ \ \ \ std::unique\_ptr<std::thread[]>\ threads\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00688}00688\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00692}00692\ \ \ \ \ \textcolor{keywordtype}{bool}\ waiting\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00693}00693\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00697}00697\ \ \ \ \ \textcolor{keywordtype}{bool}\ workers\_running\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00698}00698\ \};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00699}00699\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00700}00700\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ End\ class\ thread\_pool\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00701}00701\ \textcolor{comment}{//\ =============================================================================================\ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00702}00702\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00703}00703\ \textcolor{comment}{//\ =============================================================================================\ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00704}00704\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Begin\ class\ synced\_stream\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00705}00705\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00709}\mbox{\hyperlink{class_b_s_1_1synced__stream}{00709}}\ \textcolor{keyword}{class\ }[[nodiscard]]\ \mbox{\hyperlink{class_b_s_1_1synced__stream}{synced\_stream}}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00710}00710\ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00711}00711\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00717}\mbox{\hyperlink{class_b_s_1_1synced__stream_aa66339189e666fb9aec5759401dc6dfc}{00717}}\ \ \ \ \ \mbox{\hyperlink{class_b_s_1_1synced__stream_aa66339189e666fb9aec5759401dc6dfc}{synced\_stream}}(std::ostream\&\ out\_stream\_\ =\ std::cout)\ :\ out\_stream(out\_stream\_)\ \{\}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00718}00718\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00725}00725\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00726}\mbox{\hyperlink{class_b_s_1_1synced__stream_a98e63ce25c8de5cf4bb58966236adef1}{00726}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1synced__stream_a98e63ce25c8de5cf4bb58966236adef1}{print}}(T\&\&...\ items)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00727}00727\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00728}00728\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::scoped\_lock\ lock(stream\_mutex);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00729}00729\ \ \ \ \ \ \ \ \ (out\_stream\ <<\ ...\ <<\ std::forward<T>(items));}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00730}00730\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00731}00731\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00738}00738\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00739}\mbox{\hyperlink{class_b_s_1_1synced__stream_a5fc273e58ed3cad6d939dc0eceddb8a4}{00739}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1synced__stream_a5fc273e58ed3cad6d939dc0eceddb8a4}{println}}(T\&\&...\ items)}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00740}00740\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00741}00741\ \ \ \ \ \ \ \ \ print(std::forward<T>(items)...,\ \textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00742}00742\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00743}00743\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00747}\mbox{\hyperlink{class_b_s_1_1synced__stream_a25e44d2af0173f7148b7cd2c6b9bb1ab}{00747}}\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{static}\ std::ostream\&\ (\&\mbox{\hyperlink{class_b_s_1_1synced__stream_a25e44d2af0173f7148b7cd2c6b9bb1ab}{endl}})(std::ostream\&)\ =\ \textcolor{keyword}{static\_cast<}std::ostream\&\ (\&)(std::ostream\&)\textcolor{keyword}{>}(std::endl);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00748}00748\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00752}\mbox{\hyperlink{class_b_s_1_1synced__stream_a3b910c58a651f2a60061d18ce4fbc20b}{00752}}\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{static}\ std::ostream\&\ (\&\mbox{\hyperlink{class_b_s_1_1synced__stream_a3b910c58a651f2a60061d18ce4fbc20b}{flush}})(std::ostream\&)\ =\ \textcolor{keyword}{static\_cast<}std::ostream\&\ (\&)(std::ostream\&)\textcolor{keyword}{>}(std::flush);}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00753}00753\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00754}00754\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00758}00758\ \ \ \ \ std::ostream\&\ out\_stream;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00759}00759\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00763}00763\ \ \ \ \ \textcolor{keyword}{mutable}\ std::mutex\ stream\_mutex\ =\ \{\};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00764}00764\ \};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00765}00765\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00766}00766\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ End\ class\ synced\_stream\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00767}00767\ \textcolor{comment}{//\ =============================================================================================\ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00768}00768\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00769}00769\ \textcolor{comment}{//\ =============================================================================================\ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00770}00770\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Begin\ class\ timer\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00771}00771\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00775}\mbox{\hyperlink{class_b_s_1_1timer}{00775}}\ \textcolor{keyword}{class\ }[[nodiscard]]\ \mbox{\hyperlink{class_b_s_1_1timer}{timer}}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00776}00776\ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00777}00777\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00781}\mbox{\hyperlink{class_b_s_1_1timer_ad442341cacfb7970960a8e2090d66c10}{00781}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1timer_ad442341cacfb7970960a8e2090d66c10}{start}}()}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00782}00782\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00783}00783\ \ \ \ \ \ \ \ \ start\_time\ =\ std::chrono::steady\_clock::now();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00784}00784\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00785}00785\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00789}\mbox{\hyperlink{class_b_s_1_1timer_aef4f43b7877eceaaaa1a34a5b58db903}{00789}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_b_s_1_1timer_aef4f43b7877eceaaaa1a34a5b58db903}{stop}}()}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00790}00790\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00791}00791\ \ \ \ \ \ \ \ \ elapsed\_time\ =\ std::chrono::steady\_clock::now()\ -\/\ start\_time;}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00792}00792\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00793}00793\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00799}\mbox{\hyperlink{class_b_s_1_1timer_a69eabae9b119282e3cb1f8a13fa02159}{00799}}\ \ \ \ \ [[nodiscard]]\ std::chrono::milliseconds::rep\ \mbox{\hyperlink{class_b_s_1_1timer_a69eabae9b119282e3cb1f8a13fa02159}{ms}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00800}00800\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00801}00801\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (std::chrono::duration\_cast<std::chrono::milliseconds>(elapsed\_time)).count();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00802}00802\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00803}00803\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00804}00804\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00808}00808\ \ \ \ \ std::chrono::time\_point<std::chrono::steady\_clock>\ start\_time\ =\ std::chrono::steady\_clock::now();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00809}00809\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00813}00813\ \ \ \ \ std::chrono::duration<double>\ elapsed\_time\ =\ std::chrono::duration<double>::zero();}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00814}00814\ \};}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00815}00815\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00816}00816\ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ End\ class\ timer\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00817}00817\ \textcolor{comment}{//\ =============================================================================================\ //}}
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00818}00818\ }
\DoxyCodeLine{\Hypertarget{_b_s__thread__pool_8hpp_source_l00819}00819\ \}\ \textcolor{comment}{//\ namespace\ BS}}

\end{DoxyCode}

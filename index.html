<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>aDDM-Toolbox-GPU: aDDM-Toolbox-GPU</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">aDDM-Toolbox-GPU
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">aDDM-Toolbox-GPU </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a> This toolbox can be used to perform model fitting and data simulation for the Drift Diffusion Model (<a class="el" href="class_d_d_m.html" title="Implementation of the Drift Diffusion Model (DDM).">DDM</a>) and the attentional Drift Diffusion Model (<a class="el" href="classa_d_d_m.html" title="Implementation of the attentional Drift Diffusion Model (aDDM).">aDDM</a>). It is aimed to provide computational speedup, employing GPU optimizations for parameter estimations.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Requirements</h1>
<p>This library requires NVCC and CUDA Toolkit versions 12.2 and g++ version 11.3.0. This library also uses three thrid-party C++ packages for thread pools, JSON processing, and statistical distributions:</p>
<ul>
<li><a href="https://github.com/bshoshany/thread-pool">BS::thread_pool</a></li>
<li><a href="https://github.com/nlohmann/json">JSON for Modern C++</a></li>
<li><a href="https://www.boost.org/doc/libs/?view=category_math">Boost Math/Statistical Distributions</a></li>
</ul>
<p>These dependencies can be installed using the following commands:</p>
<div class="fragment"><div class="line">$ wget -O /usr/include/c++/11/BS_thread_pool.hpp https://raw.githubusercontent.com/bshoshany/thread-pool/master/include/BS_thread_pool.hpp</div>
<div class="line">$ wget -O /usr/include/c++/11/nlohmann/json.hpp https://raw.githubusercontent.com/nlohmann/json/develop/single_include/nlohmann/json.hpp</div>
<div class="line">$ apt-get install libboost-math-dev libboost-math1.74-dev</div>
</div><!-- fragment --><p><em>Note that the installation directory /usr/include/c++/11 may be modified to support newer versions of C++. In the event of a <b>Permission Denied</b> error, precede the above commands with <b>sudo</b>.</em></p>
<p>For Python data visualization, the base requirement is Python 3.10. The following libraries are required:</p>
<ul>
<li>matplotlib</li>
<li>numpy</li>
<li>pandas</li>
<li>seaborn</li>
</ul>
<p>See <a href="requirements.txt">requirements.txt</a> for specific versions. These libraries can be installed using the following command:</p>
<div class="fragment"><div class="line">$ pip install matplotlib numpy pandas seaborn</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2"></a>
Installation and Usage</h1>
<p>The aDDM-Toolbox-GPU library offers both a GPU and non-GPU reliant installation target. The default installation build employs CUDA libraries, including the NVCC compiler. For systems without CUDA capabilities or users looking to exclude CUDA code from the installation, uncomment the following line in the Makefile:</p>
<div class="fragment"><div class="line">MACROS := -DEXCLUDE_CUDA_CODE</div>
</div><!-- fragment --><p>This macro declaration will ensure that all instances of CUDA code are undefined in the installation. Note that this removes the necessity to have NVCC and CUDA versions 12.2 installed; however, all other dependencies are still required. The aDDM-Toolbox-GPU library can then be built and installed in one step:</p>
<div class="fragment"><div class="line">$ make install</div>
</div><!-- fragment --><p><em>In the event of a <b>Permission Denied</b> error, precede the above command with <b>sudo</b>.</em></p>
<p>This will install the libaddm.so shared library as well as the corresponding header files. Although there are multiple header files corresponding to the <a class="el" href="classa_d_d_m.html" title="Implementation of the attentional Drift Diffusion Model (aDDM).">aDDM</a> and <a class="el" href="class_d_d_m.html" title="Implementation of the Drift Diffusion Model (DDM).">DDM</a> programs, simply adding <code>#include &lt;addm/gpu_toolbox.h&gt;</code> to a C++/CUDA program will include all necessary headers. A simple usage example is described below:</p>
<p><code>main.cpp</code>: </p><div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;addm/gpu_toolbox.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="addm__mle_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    <a class="code hl_class" href="classa_d_d_m.html">aDDM</a> addm = <a class="code hl_class" href="classa_d_d_m.html">aDDM</a>(0.005, 0.07, 0.5, 1);</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;d: &quot;</span> &lt;&lt; addm.<a class="code hl_variable" href="class_d_d_m.html#a15511d3cf0f7deb5de073dcdfd09bcc6">d</a> &lt;&lt; std::endl; </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;sigma: &quot;</span> &lt;&lt; addm.<a class="code hl_variable" href="class_d_d_m.html#a17570a6c2378cdb363437f39a5fa3f00">sigma</a> &lt;&lt; std::endl; </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;theta: &quot;</span> &lt;&lt; addm.<a class="code hl_variable" href="classa_d_d_m.html#a9c6c014066b0930baaa665b06dec9bb3">theta</a> &lt;&lt; std::endl; </div>
<div class="line">}</div>
<div class="ttc" id="aaddm__mle_8cpp_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="addm__mle_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdef"><b>Definition</b> addm_mle.cpp:16</div></div>
<div class="ttc" id="aclass_d_d_m_html_a15511d3cf0f7deb5de073dcdfd09bcc6"><div class="ttname"><a href="class_d_d_m.html#a15511d3cf0f7deb5de073dcdfd09bcc6">DDM::d</a></div><div class="ttdeci">float d</div><div class="ttdef"><b>Definition</b> ddm.cuh:88</div></div>
<div class="ttc" id="aclass_d_d_m_html_a17570a6c2378cdb363437f39a5fa3f00"><div class="ttname"><a href="class_d_d_m.html#a17570a6c2378cdb363437f39a5fa3f00">DDM::sigma</a></div><div class="ttdeci">float sigma</div><div class="ttdef"><b>Definition</b> ddm.cuh:90</div></div>
<div class="ttc" id="aclassa_d_d_m_html"><div class="ttname"><a href="classa_d_d_m.html">aDDM</a></div><div class="ttdoc">Implementation of the attentional Drift Diffusion Model (aDDM).</div><div class="ttdef"><b>Definition</b> addm.cuh:128</div></div>
<div class="ttc" id="aclassa_d_d_m_html_a9c6c014066b0930baaa665b06dec9bb3"><div class="ttname"><a href="classa_d_d_m.html#a9c6c014066b0930baaa665b06dec9bb3">aDDM::theta</a></div><div class="ttdeci">float theta</div><div class="ttdef"><b>Definition</b> addm.cuh:140</div></div>
</div><!-- fragment --><p>When compiling any code using the toolbox, include the <code>-laddm</code> flag to link with the installed shared object library.</p>
<div class="fragment"><div class="line">$ nvcc -o main main.cpp -laddm</div>
<div class="line">$ ./main</div>
<div class="line">d: 0.005</div>
<div class="line">sigma: 0.07</div>
<div class="line">theta: 0.5</div>
</div><!-- fragment --><p><em>Note that <b>nvcc</b> is assumed to be at least <b>version 12.2</b>. The compiler path may need to be modified to support this requirement.</em></p>
<h1><a class="anchor" id="autotoc_md3"></a>
Examples</h1>
<p>For any data simulation and model fitting, the <a class="el" href="class_d_d_m.html" title="Implementation of the Drift Diffusion Model (DDM).">DDM</a> and <a class="el" href="classa_d_d_m.html" title="Implementation of the attentional Drift Diffusion Model (aDDM).">aDDM</a> classes are going to be the most useful. The <code><a class="el" href="addm_8cuh.html">addm.cuh</a></code> amd <code><a class="el" href="ddm_8cuh.html">ddm.cuh</a></code> files can be found in the include directory. Below are some examples that may give you an idea how to use these classes. Besides these examples, you may want to:</p>
<ul>
<li>Check out the <a href="https://jakegoldm.github.io/aDDM-Toolbox-GPU/">documentation</a>.</li>
<li>See example use cases in the <a href="src/">source directory</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
N-Trial Simulation</h2>
<p>Both the <code><a class="el" href="class_d_d_m.html" title="Implementation of the Drift Diffusion Model (DDM).">DDM</a></code> and <code><a class="el" href="classa_d_d_m.html" title="Implementation of the attentional Drift Diffusion Model (aDDM).">aDDM</a></code> classes provide methods for simulating mass amounts of trials. This can be done using the <code>simulateTrial</code> method defined in both classes:</p>
<h3><a class="anchor" id="autotoc_md5"></a>
DDM</h3>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;addm/gpu_toolbox.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>std; </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_variable" href="addm__simulate_8cpp.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a> = 1000; </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_variable" href="addm__mle_8cpp.html#a66ae2c9a86cab7b4970ecc123c799c45">valueLeft</a> = 3; </div>
<div class="line"><span class="keywordtype">int</span> valueRight = 7; </div>
<div class="line"><span class="keywordtype">int</span> SEED = 540; </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="addm__mle_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    vector&lt;DDMTrial&gt; trials;</div>
<div class="line">    <a class="code hl_class" href="class_d_d_m.html">DDM</a> ddm = <a class="code hl_class" href="class_d_d_m.html">DDM</a>(0.005, 0.07, 1);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="addm__simulate_8cpp.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>; i++) {</div>
<div class="line">        <a class="code hl_class" href="class_d_d_m_trial.html">DDMTrial</a> trial = ddm.<a class="code hl_function" href="class_d_d_m.html#aa3a9a7bb885ba0154347082eb81b3f91">simulateTrial</a>(<a class="code hl_variable" href="addm__mle_8cpp.html#a66ae2c9a86cab7b4970ecc123c799c45">valueLeft</a>, valueRight, 10, SEED);</div>
<div class="line">        trials.push_back(trial);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="class_d_d_m_trial.html#a8a3765f02f4f56a8504436a2c54fa01a">DDMTrial::writeTrialsToCSV</a>(trials, <span class="stringliteral">&quot;ddm_example.csv&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="aaddm__mle_8cpp_html_a66ae2c9a86cab7b4970ecc123c799c45"><div class="ttname"><a href="addm__mle_8cpp.html#a66ae2c9a86cab7b4970ecc123c799c45">valueLeft</a></div><div class="ttdeci">int valueLeft</div><div class="ttdef"><b>Definition</b> addm_mle.cpp:14</div></div>
<div class="ttc" id="aaddm__simulate_8cpp_html_a7722c8ecbb62d99aee7ce68b1752f337"><div class="ttname"><a href="addm__simulate_8cpp.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a></div><div class="ttdeci">int N</div><div class="ttdef"><b>Definition</b> addm_simulate.cpp:9</div></div>
<div class="ttc" id="aclass_d_d_m_html"><div class="ttname"><a href="class_d_d_m.html">DDM</a></div><div class="ttdoc">Implementation of the Drift Diffusion Model (DDM).</div><div class="ttdef"><b>Definition</b> ddm.cuh:75</div></div>
<div class="ttc" id="aclass_d_d_m_html_aa3a9a7bb885ba0154347082eb81b3f91"><div class="ttname"><a href="class_d_d_m.html#aa3a9a7bb885ba0154347082eb81b3f91">DDM::simulateTrial</a></div><div class="ttdeci">DDMTrial simulateTrial(int valueLeft, int valueRight, int timeStep=10, int seed=-1)</div><div class="ttdoc">Generate a simulated DDM trial provided item values.</div><div class="ttdef"><b>Definition</b> ddm.cpp:312</div></div>
<div class="ttc" id="aclass_d_d_m_trial_html"><div class="ttname"><a href="class_d_d_m_trial.html">DDMTrial</a></div><div class="ttdoc">Implementation of a single DDMTrial object.</div><div class="ttdef"><b>Definition</b> ddm.cuh:22</div></div>
<div class="ttc" id="aclass_d_d_m_trial_html_a8a3765f02f4f56a8504436a2c54fa01a"><div class="ttname"><a href="class_d_d_m_trial.html#a8a3765f02f4f56a8504436a2c54fa01a">DDMTrial::writeTrialsToCSV</a></div><div class="ttdeci">static void writeTrialsToCSV(vector&lt; DDMTrial &gt; trials, string filename)</div><div class="ttdoc">Write a vector of DDMTrials to a CSV file.</div><div class="ttdef"><b>Definition</b> ddm.cpp:380</div></div>
</div><!-- fragment --><p> <code>ddm_example.csv</code>: </p><div class="fragment"><div class="line">choice,rt,valueLeft,valueRight</div>
<div class="line">1,850,3,7</div>
<div class="line">...</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md6"></a>
aDDM</h3>
<p>Note that for generating <a class="el" href="classa_d_d_m.html" title="Implementation of the attentional Drift Diffusion Model (aDDM).">aDDM</a> trials, an existing set of empirical fixations is required. This data can be packaged in the form of 1-2 CSVs. The input format for a single CSV is identical to the output of <code>aDDMTrial::writeTrialsToCSV(...)</code>. This CSV should be formatted as follows:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">trial   </th><th class="markdownTableHeadCenter">choice   </th><th class="markdownTableHeadCenter">rt   </th><th class="markdownTableHeadCenter">valueLeft   </th><th class="markdownTableHeadCenter">valueRight   </th><th class="markdownTableHeadCenter">fixItem   </th><th class="markdownTableHeadCenter">fixTime    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">350   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">200    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">350   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">150    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">-1   </td><td class="markdownTableBodyCenter">400   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">5   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">300    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">-1   </td><td class="markdownTableBodyCenter">400   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">5   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">100   </td></tr>
</table>
<p>To load data using the single-CSV format:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;addm/gpu_toolbox.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>std; </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_variable" href="addm__simulate_8cpp.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a> = 1000; </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_variable" href="addm__mle_8cpp.html#a66ae2c9a86cab7b4970ecc123c799c45">valueLeft</a> = 3; </div>
<div class="line"><span class="keywordtype">int</span> valueRight = 7; </div>
<div class="line"><span class="keywordtype">int</span> SEED = 540; </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="addm__mle_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    map&lt;int, vector&lt;aDDMTrial&gt;&gt; data = <a class="code hl_function" href="util_8h.html#ab6b9c5e80a13d7b17e7617f31e47f156">loadDataFromSingleCSV</a>(<span class="stringliteral">&quot;data/addm_sims.csv&quot;</span>);</div>
<div class="line">    <a class="code hl_class" href="class_fixation_data.html">FixationData</a> fixationData = <a class="code hl_function" href="util_8h.html#ab492700b8d4d51252d43590949ba1b6f">getEmpiricalDistributions</a>(data);</div>
<div class="line"> </div>
<div class="line">    vector&lt;aDDMTrial&gt; trials;</div>
<div class="line">    <a class="code hl_class" href="classa_d_d_m.html">aDDM</a> addm = <a class="code hl_class" href="classa_d_d_m.html">aDDM</a>(0.005, 0.07, 0.5, 1);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="addm__simulate_8cpp.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>; i++) {</div>
<div class="line">        <a class="code hl_class" href="classa_d_d_m_trial.html">aDDMTrial</a> trial = addm.<a class="code hl_function" href="classa_d_d_m.html#a2bff97cd2823b7e44e08af34351c6676">simulateTrial</a>(</div>
<div class="line">            <a class="code hl_variable" href="addm__mle_8cpp.html#a66ae2c9a86cab7b4970ecc123c799c45">valueLeft</a>, valueRight, fixationData, 10, 3, {}, {}, SEED);</div>
<div class="line">        trials.push_back(trial);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="classa_d_d_m_trial.html#aa3758e27194c6ae3def6abfb5ebb722e">aDDMTrial::writeTrialsToCSV</a>(trials, <span class="stringliteral">&quot;addm_example.csv&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_fixation_data_html"><div class="ttname"><a href="class_fixation_data.html">FixationData</a></div><div class="ttdoc">Record of empirical fixation data that is used for simulating new aDDMTrials.</div><div class="ttdef"><b>Definition</b> addm.cuh:20</div></div>
<div class="ttc" id="aclassa_d_d_m_html_a2bff97cd2823b7e44e08af34351c6676"><div class="ttname"><a href="classa_d_d_m.html#a2bff97cd2823b7e44e08af34351c6676">aDDM::simulateTrial</a></div><div class="ttdeci">aDDMTrial simulateTrial(int valueLeft, int valueRight, FixationData fixationData, int timeStep=10, int numFixDists=3, fixDists fixationDist={}, vector&lt; int &gt; timeBins={}, int seed=-1)</div><div class="ttdoc">Generate simulated fixations provided item values and empirical fixation data.</div><div class="ttdef"><b>Definition</b> addm.cpp:361</div></div>
<div class="ttc" id="aclassa_d_d_m_trial_html"><div class="ttname"><a href="classa_d_d_m_trial.html">aDDMTrial</a></div><div class="ttdoc">Implementation of a single aDDMTrial object.</div><div class="ttdef"><b>Definition</b> addm.cuh:55</div></div>
<div class="ttc" id="aclassa_d_d_m_trial_html_aa3758e27194c6ae3def6abfb5ebb722e"><div class="ttname"><a href="classa_d_d_m_trial.html#aa3758e27194c6ae3def6abfb5ebb722e">aDDMTrial::writeTrialsToCSV</a></div><div class="ttdeci">static void writeTrialsToCSV(vector&lt; aDDMTrial &gt; trials, string filename)</div><div class="ttdoc">Write a vector of aDDMTrials to a CSV file.</div><div class="ttdef"><b>Definition</b> addm.cpp:564</div></div>
<div class="ttc" id="autil_8h_html_ab492700b8d4d51252d43590949ba1b6f"><div class="ttname"><a href="util_8h.html#ab492700b8d4d51252d43590949ba1b6f">getEmpiricalDistributions</a></div><div class="ttdeci">FixationData getEmpiricalDistributions(std::map&lt; int, std::vector&lt; aDDMTrial &gt; &gt; data, int timeStep=10, int MaxFixTime=3000, int numFixDists=3, std::vector&lt; int &gt; valueDiffs={-3,-2,-1, 0, 1, 2, 3}, std::vector&lt; int &gt; subjectIDs={}, bool useOddTrials=true, bool useEvenTrials=true, bool useCisTrials=true, bool useTransTrials=true)</div><div class="ttdoc">Create empirical distributions fro the data ot be used when generating model simulations.</div><div class="ttdef"><b>Definition</b> util.cpp:157</div></div>
<div class="ttc" id="autil_8h_html_ab6b9c5e80a13d7b17e7617f31e47f156"><div class="ttname"><a href="util_8h.html#ab6b9c5e80a13d7b17e7617f31e47f156">loadDataFromSingleCSV</a></div><div class="ttdeci">std::map&lt; int, std::vector&lt; aDDMTrial &gt; &gt; loadDataFromSingleCSV(std::string filename)</div><div class="ttdoc">Load experimental data from a single CSV file. Format expected is:</div><div class="ttdef"><b>Definition</b> util.cpp:38</div></div>
</div><!-- fragment --><p> <code>addm_example.csv</code>: </p><div class="fragment"><div class="line">trial,choice,rt,valueLeft,valueRight,fixItem,fixTime</div>
<div class="line">0,1,1850,3,7,0,280</div>
<div class="line">0,1,1850,3,7,1,230</div>
<div class="line">0,1,1850,3,7,0,70</div>
<div class="line">...</div>
</div><!-- fragment --><p>In the case of using two CSVs, such as with real experimental data, the first CSV should contain the experimental data including subject parcode, trial ID, RT, choice, and item values. The second CSV should contain fixation data pertaining to each trial. Sample CSV files in an acceptable format can be found in the data directory.</p>
<h4><a class="anchor" id="autotoc_md7"></a>
Experimental Data</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">parcode   </th><th class="markdownTableHeadCenter">trial   </th><th class="markdownTableHeadCenter">rt   </th><th class="markdownTableHeadCenter">choice   </th><th class="markdownTableHeadCenter">valueLeft   </th><th class="markdownTableHeadCenter">valueRight    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1962   </td><td class="markdownTableBodyCenter">-1   </td><td class="markdownTableBodyCenter">15   </td><td class="markdownTableBodyCenter">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">873   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">-15   </td><td class="markdownTableBodyCenter">5    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">1345   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">-5   </td></tr>
</table>
<h4><a class="anchor" id="autotoc_md8"></a>
Fixation Data</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">parcode   </th><th class="markdownTableHeadCenter">trial   </th><th class="markdownTableHeadCenter">fixItem   </th><th class="markdownTableHeadCenter">fixTime    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">176    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">42    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">188   </td></tr>
</table>
<p>To load data using the two-CSV format:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;addm/gpu_toolbox.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>std; </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_variable" href="addm__simulate_8cpp.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a> = 1000; </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_variable" href="addm__mle_8cpp.html#a66ae2c9a86cab7b4970ecc123c799c45">valueLeft</a> = 3; </div>
<div class="line"><span class="keywordtype">int</span> valueRight = 7; </div>
<div class="line"><span class="keywordtype">int</span> SEED = 540; </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="addm__mle_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    map&lt;int, vector&lt;aDDMTrial&gt;&gt; data = <a class="code hl_function" href="util_8h.html#a78fc1c7aadc9bd3f08e29b796632b49b">loadDataFromCSV</a>(<span class="stringliteral">&quot;data/expdata.csv&quot;</span>, <span class="stringliteral">&quot;data/fixations.csv&quot;</span>);</div>
<div class="line">    <a class="code hl_class" href="class_fixation_data.html">FixationData</a> fixationData = <a class="code hl_function" href="util_8h.html#ab492700b8d4d51252d43590949ba1b6f">getEmpiricalDistributions</a>(data);</div>
<div class="line"> </div>
<div class="line">    vector&lt;aDDMTrial&gt; trials;</div>
<div class="line">    <a class="code hl_class" href="classa_d_d_m.html">aDDM</a> addm = <a class="code hl_class" href="classa_d_d_m.html">aDDM</a>(0.005, 0.07, 0.5, 1);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="addm__simulate_8cpp.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>; i++) {</div>
<div class="line">        <a class="code hl_class" href="classa_d_d_m_trial.html">aDDMTrial</a> trial = addm.<a class="code hl_function" href="classa_d_d_m.html#a2bff97cd2823b7e44e08af34351c6676">simulateTrial</a>(</div>
<div class="line">            <a class="code hl_variable" href="addm__mle_8cpp.html#a66ae2c9a86cab7b4970ecc123c799c45">valueLeft</a>, valueRight, fixationData, 10, 3, {}, {}, SEED);</div>
<div class="line">        trials.push_back(trial);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <a class="code hl_function" href="classa_d_d_m_trial.html#aa3758e27194c6ae3def6abfb5ebb722e">aDDMTrial::writeTrialsToCSV</a>(trials, <span class="stringliteral">&quot;addm_example.csv&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="autil_8h_html_a78fc1c7aadc9bd3f08e29b796632b49b"><div class="ttname"><a href="util_8h.html#a78fc1c7aadc9bd3f08e29b796632b49b">loadDataFromCSV</a></div><div class="ttdeci">std::map&lt; int, std::vector&lt; aDDMTrial &gt; &gt; loadDataFromCSV(std::string expDataFilename, std::string fixDataFilename)</div><div class="ttdoc">Load experimental data from two CSV files: an experimental data file and a fixations file....</div><div class="ttdef"><b>Definition</b> util.cpp:45</div></div>
</div><!-- fragment --><p> <code>addm_example.csv</code>: </p><div class="fragment"><div class="line">trial,choice,rt,valueLeft,valueRight,fixItem,fixTime</div>
<div class="line">0,1,1510,3,7,0,370</div>
<div class="line">0,1,1510,3,7,2,280</div>
<div class="line">0,1,1510,3,7,0,70</div>
<div class="line">...</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
Trial Likelihood Compuation</h2>
<p>The <code><a class="el" href="class_d_d_m.html" title="Implementation of the Drift Diffusion Model (DDM).">DDM</a></code> and <code><a class="el" href="classa_d_d_m.html" title="Implementation of the attentional Drift Diffusion Model (aDDM).">aDDM</a></code> classes both provide functionality for estimating trial likelihoods. The <code>getTrialLikelihood(...)</code> method takes in a single trial object and returns the likelihood that the provided model will generate that trial. Examples are provided below:</p>
<h3><a class="anchor" id="autotoc_md10"></a>
DDM</h3>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;addm/gpu_toolbox.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>std; </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="addm__mle_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    <a class="code hl_class" href="class_d_d_m.html">DDM</a> ddm = <a class="code hl_class" href="class_d_d_m.html">DDM</a>(0.005, 0.07, 1);</div>
<div class="line">    <a class="code hl_class" href="class_d_d_m_trial.html">DDMTrial</a> trial = <a class="code hl_class" href="class_d_d_m_trial.html">DDMTrial</a>(2400, -1, 4, 5); </div>
<div class="line">    <span class="keywordtype">double</span> prob = ddm.<a class="code hl_function" href="class_d_d_m.html#a025072ab3fd16dee3a0b0f57c7585a06">getTrialLikelihood</a>(trial);</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Probability = &quot;</span> &lt;&lt; prob &lt;&lt; endl; </div>
<div class="line">}</div>
<div class="ttc" id="aclass_d_d_m_html_a025072ab3fd16dee3a0b0f57c7585a06"><div class="ttname"><a href="class_d_d_m.html#a025072ab3fd16dee3a0b0f57c7585a06">DDM::getTrialLikelihood</a></div><div class="ttdeci">double getTrialLikelihood(DDMTrial trial, bool debug=false, int timeStep=10, float approxStateStep=0.1)</div><div class="ttdoc">Compute the likelihood of the trial results provided the current parameters.</div><div class="ttdef"><b>Definition</b> ddm.cpp:37</div></div>
</div><!-- fragment --><p> Output: </p><div class="fragment"><div class="line">Probability = 0.000166691</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md11"></a>
aDDM</h3>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;addm/gpu_toolbox.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>std; </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="addm__mle_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    <a class="code hl_class" href="classa_d_d_m.html">aDDM</a> addm = <a class="code hl_class" href="classa_d_d_m.html">aDDM</a>(0.005, 0.07, 0.5, 1);</div>
<div class="line">    <a class="code hl_class" href="classa_d_d_m_trial.html">aDDMTrial</a> trial = <a class="code hl_class" href="classa_d_d_m_trial.html">aDDMTrial</a>(</div>
<div class="line">        240, 1, 3, 3, {0, -1}, {100, 140}</div>
<div class="line">    );</div>
<div class="line">    <span class="keywordtype">double</span> prob = addm.<a class="code hl_function" href="classa_d_d_m.html#a9ccee0abe15711f09f8eee0a782f3e06">getTrialLikelihood</a>(trial);</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Probability = &quot;</span> &lt;&lt; prob &lt;&lt; endl; </div>
<div class="line">}</div>
<div class="ttc" id="aclassa_d_d_m_html_a9ccee0abe15711f09f8eee0a782f3e06"><div class="ttname"><a href="classa_d_d_m.html#a9ccee0abe15711f09f8eee0a782f3e06">aDDM::getTrialLikelihood</a></div><div class="ttdeci">double getTrialLikelihood(aDDMTrial trial, bool debug=false, int timeStep=10, float approxStateStep=0.1)</div><div class="ttdoc">Compute the likelihood of the trial results provided the current parameters.</div><div class="ttdef"><b>Definition</b> addm.cpp:46</div></div>
</div><!-- fragment --><p> Output: </p><div class="fragment"><div class="line">Probability = 0.000515395</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md12"></a>
Negative Log Likelihoods (NLL) and Maximum Likelihood Estimation (MLE)</h2>
<p>A useful application of the trial likelihood computation is determining the total <b>Negative Log Likelihood (NLL)</b> of an aggregation of trials. Each instance of the <code><a class="el" href="class_d_d_m.html" title="Implementation of the Drift Diffusion Model (DDM).">DDM</a></code> and <code><a class="el" href="classa_d_d_m.html" title="Implementation of the attentional Drift Diffusion Model (aDDM).">aDDM</a></code>classes can use the following methods to determine the sum of NLLs for the trials.</p>
<ul>
<li><code>computeParallelNLL(...)</code> to compute the sum of NLLs for a vector of trials using CPU multithreading.</li>
<li><code>computeGPUNLL(...)</code> to compute tthe sum of NLLs for a vector of trials using GPU parallelism.</li>
</ul>
<p>The sum of NLLs can also be computed without any optimization features using a simple for-loop and the <code>getTrialLikelihood</code> method.</p>
<p>These methods can be applied for model fitting and performing <b>Maximum Likelihood Estimations (MLE)</b> for a set of models. The <code>fitModelMLE(...)</code> method of both the <code><a class="el" href="class_d_d_m.html" title="Implementation of the Drift Diffusion Model (DDM).">DDM</a></code> and <code><a class="el" href="classa_d_d_m.html" title="Implementation of the attentional Drift Diffusion Model (aDDM).">aDDM</a></code> allows a user to select a range of available parameters to test for, as well as the computational optimizations to employ based off the user's hardware. The <code>fitModelMLE(...)</code> method returns an instance of the <code><a class="el" href="struct_m_l_einfo.html">MLEinfo</a></code> struct, which contains the model with the most optimal parameters and aggregated likelihoods information:</p>
<ol type="1">
<li>Mapping of models to their calculated NLLs over the dataset of trials.</li>
<li>Mapping of models to their normalized posteriors, taken as the sum of likelihoods.</li>
</ol>
<p>Examples of MLE calculations are described below:</p>
<h3><a class="anchor" id="autotoc_md13"></a>
DDM</h3>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;addm/gpu_toolbox.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>std::chrono;</div>
<div class="line"> </div>
<div class="line">std::vector&lt;float&gt; <a class="code hl_variable" href="addm__mle_8cpp.html#a800d6969137d46bac6c127a9f70b7e51">rangeD</a> = {0.003, 0.004, 0.005, 0.006, 0.007, 0.008, 0.009};</div>
<div class="line">std::vector&lt;float&gt; <a class="code hl_variable" href="addm__mle_8cpp.html#a347dbb7726ce6ea89520f5980d686dd8">rangeSigma</a> = {0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_variable" href="addm__mle_8cpp.html#a7ae0aa3d3c3bd4dc2fd68df5f46bb05f">barrier</a> = 1;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="addm__mle_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    std::vector&lt;DDMTrial&gt; trials = <a class="code hl_function" href="class_d_d_m_trial.html#abe3d480e7f9dc0ad5c755db4e28e9f54">DDMTrial::loadTrialsFromCSV</a>(<span class="stringliteral">&quot;data/ddm_sims.csv&quot;</span>); </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Counted &quot;</span> &lt;&lt; trials.size() &lt;&lt; <span class="stringliteral">&quot; trials.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <a class="code hl_struct" href="struct_m_l_einfo.html">MLEinfo&lt;DDM&gt;</a> info = <a class="code hl_function" href="class_d_d_m.html#a5fb44afa5344b51d0eef6e9e49a0c905">DDM::fitModelMLE</a>(trials, <a class="code hl_variable" href="addm__mle_8cpp.html#a800d6969137d46bac6c127a9f70b7e51">rangeD</a>, <a class="code hl_variable" href="addm__mle_8cpp.html#a347dbb7726ce6ea89520f5980d686dd8">rangeSigma</a>, <a class="code hl_variable" href="addm__mle_8cpp.html#a7ae0aa3d3c3bd4dc2fd68df5f46bb05f">barrier</a>, <span class="stringliteral">&quot;gpu&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Optimal d=&quot;</span> &lt;&lt; info.<a class="code hl_variable" href="struct_m_l_einfo.html#a054f10abde01843cc1db0b07135edb0e">optimal</a>.d &lt;&lt; <span class="stringliteral">&quot; sigma=&quot;</span> &lt;&lt; info.<a class="code hl_variable" href="struct_m_l_einfo.html#a054f10abde01843cc1db0b07135edb0e">optimal</a>.sigma &lt;&lt; std::endl; </div>
<div class="line">}</div>
<div class="ttc" id="aaddm__mle_8cpp_html_a347dbb7726ce6ea89520f5980d686dd8"><div class="ttname"><a href="addm__mle_8cpp.html#a347dbb7726ce6ea89520f5980d686dd8">rangeSigma</a></div><div class="ttdeci">std::vector&lt; float &gt; rangeSigma</div><div class="ttdef"><b>Definition</b> addm_mle.cpp:10</div></div>
<div class="ttc" id="aaddm__mle_8cpp_html_a7ae0aa3d3c3bd4dc2fd68df5f46bb05f"><div class="ttname"><a href="addm__mle_8cpp.html#a7ae0aa3d3c3bd4dc2fd68df5f46bb05f">barrier</a></div><div class="ttdeci">int barrier</div><div class="ttdef"><b>Definition</b> addm_mle.cpp:13</div></div>
<div class="ttc" id="aaddm__mle_8cpp_html_a800d6969137d46bac6c127a9f70b7e51"><div class="ttname"><a href="addm__mle_8cpp.html#a800d6969137d46bac6c127a9f70b7e51">rangeD</a></div><div class="ttdeci">std::vector&lt; float &gt; rangeD</div><div class="ttdef"><b>Definition</b> addm_mle.cpp:9</div></div>
<div class="ttc" id="aclass_d_d_m_html_a5fb44afa5344b51d0eef6e9e49a0c905"><div class="ttname"><a href="class_d_d_m.html#a5fb44afa5344b51d0eef6e9e49a0c905">DDM::fitModelMLE</a></div><div class="ttdeci">static MLEinfo&lt; DDM &gt; fitModelMLE(vector&lt; DDMTrial &gt; trials, vector&lt; float &gt; rangeD, vector&lt; float &gt; rangeSigma, float barrier, string computeMethod=&quot;basic&quot;, bool normalizePosteriors=false)</div><div class="ttdoc">Copmlete a grid-search based Maximum Likelihood Estimation of all possible paramters combinations (d,...</div><div class="ttdef"><b>Definition</b> ddm.cpp:420</div></div>
<div class="ttc" id="aclass_d_d_m_trial_html_abe3d480e7f9dc0ad5c755db4e28e9f54"><div class="ttname"><a href="class_d_d_m_trial.html#abe3d480e7f9dc0ad5c755db4e28e9f54">DDMTrial::loadTrialsFromCSV</a></div><div class="ttdeci">static vector&lt; DDMTrial &gt; loadTrialsFromCSV(string filename)</div><div class="ttdoc">Load a dataset of DDMTrials into program memory.</div><div class="ttdef"><b>Definition</b> ddm.cpp:390</div></div>
<div class="ttc" id="astruct_m_l_einfo_html"><div class="ttname"><a href="struct_m_l_einfo.html">MLEinfo</a></div><div class="ttdef"><b>Definition</b> mle_info.h:8</div></div>
<div class="ttc" id="astruct_m_l_einfo_html_a054f10abde01843cc1db0b07135edb0e"><div class="ttname"><a href="struct_m_l_einfo.html#a054f10abde01843cc1db0b07135edb0e">MLEinfo::optimal</a></div><div class="ttdeci">T optimal</div><div class="ttdef"><b>Definition</b> mle_info.h:9</div></div>
</div><!-- fragment --><p> Output: </p><div class="fragment"><div class="line">Counted 1000 trials.</div>
<div class="line">Optimal d=0.005 sigma=0.07</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md14"></a>
aDDM</h3>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;addm/gpu_toolbox.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>std::chrono;</div>
<div class="line"> </div>
<div class="line">std::vector&lt;float&gt; <a class="code hl_variable" href="addm__mle_8cpp.html#a800d6969137d46bac6c127a9f70b7e51">rangeD</a> = {0.003, 0.004, 0.005};</div>
<div class="line">std::vector&lt;float&gt; <a class="code hl_variable" href="addm__mle_8cpp.html#a347dbb7726ce6ea89520f5980d686dd8">rangeSigma</a> = {0.06, 0.07, 0.08};</div>
<div class="line">std::vector&lt;float&gt; <a class="code hl_variable" href="addm__mle_8cpp.html#ad2aa7a364e6ed4961ee3bb151d523d2c">rangeTheta</a> = {0.5, 0.6, 0.7};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_variable" href="addm__mle_8cpp.html#a7ae0aa3d3c3bd4dc2fd68df5f46bb05f">barrier</a> = 1;</div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_variable" href="addm__mle_8cpp.html#a66ae2c9a86cab7b4970ecc123c799c45">valueLeft</a> = 3; </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="addm__mle_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    std::vector&lt;aDDMTrial&gt; trials = <a class="code hl_function" href="classa_d_d_m_trial.html#a370280f496885eeb71c2530d77f5d889">aDDMTrial::loadTrialsFromCSV</a>(<span class="stringliteral">&quot;data/addm_sims.csv&quot;</span>);</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Counted &quot;</span> &lt;&lt; trials.size() &lt;&lt; <span class="stringliteral">&quot; trials.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <a class="code hl_struct" href="struct_m_l_einfo.html">MLEinfo</a> info = <a class="code hl_function" href="classa_d_d_m.html#a2b9be9ecd601d05d8d935a4902c2f473">aDDM::fitModelMLE</a>(trials, <a class="code hl_variable" href="addm__mle_8cpp.html#a800d6969137d46bac6c127a9f70b7e51">rangeD</a>, <a class="code hl_variable" href="addm__mle_8cpp.html#a347dbb7726ce6ea89520f5980d686dd8">rangeSigma</a>, <a class="code hl_variable" href="addm__mle_8cpp.html#ad2aa7a364e6ed4961ee3bb151d523d2c">rangeTheta</a>, <a class="code hl_variable" href="addm__mle_8cpp.html#a7ae0aa3d3c3bd4dc2fd68df5f46bb05f">barrier</a>, <span class="stringliteral">&quot;thread&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Optimal d=&quot;</span> &lt;&lt; info.<a class="code hl_variable" href="struct_m_l_einfo.html#a054f10abde01843cc1db0b07135edb0e">optimal</a>.d &lt;&lt; </div>
<div class="line">                 <span class="stringliteral">&quot; sigma=&quot;</span> &lt;&lt; info.<a class="code hl_variable" href="struct_m_l_einfo.html#a054f10abde01843cc1db0b07135edb0e">optimal</a>.sigma &lt;&lt; </div>
<div class="line">                 <span class="stringliteral">&quot; theta=&quot;</span> &lt;&lt; info.<a class="code hl_variable" href="struct_m_l_einfo.html#a054f10abde01843cc1db0b07135edb0e">optimal</a>.theta &lt;&lt; </div>
<div class="line">                 std::endl;    </div>
<div class="line">}</div>
<div class="ttc" id="aaddm__mle_8cpp_html_ad2aa7a364e6ed4961ee3bb151d523d2c"><div class="ttname"><a href="addm__mle_8cpp.html#ad2aa7a364e6ed4961ee3bb151d523d2c">rangeTheta</a></div><div class="ttdeci">std::vector&lt; float &gt; rangeTheta</div><div class="ttdef"><b>Definition</b> addm_mle.cpp:11</div></div>
<div class="ttc" id="aclassa_d_d_m_html_a2b9be9ecd601d05d8d935a4902c2f473"><div class="ttname"><a href="classa_d_d_m.html#a2b9be9ecd601d05d8d935a4902c2f473">aDDM::fitModelMLE</a></div><div class="ttdeci">static MLEinfo&lt; aDDM &gt; fitModelMLE(vector&lt; aDDMTrial &gt; trials, vector&lt; float &gt; rangeD, vector&lt; float &gt; rangeSigma, vector&lt; float &gt; rangeTheta, float barrier=1, string computeMethod=&quot;basic&quot;, bool normalizePosteriors=false)</div><div class="ttdoc">Complete a grid-search based Maximum Likelihood Estimation of all possible parameter combinations (d,...</div><div class="ttdef"><b>Definition</b> addm.cpp:642</div></div>
<div class="ttc" id="aclassa_d_d_m_trial_html_a370280f496885eeb71c2530d77f5d889"><div class="ttname"><a href="classa_d_d_m_trial.html#a370280f496885eeb71c2530d77f5d889">aDDMTrial::loadTrialsFromCSV</a></div><div class="ttdeci">static vector&lt; aDDMTrial &gt; loadTrialsFromCSV(string filename)</div><div class="ttdoc">Load a dataset of aDDMTrials into program memory.</div><div class="ttdef"><b>Definition</b> addm.cpp:583</div></div>
</div><!-- fragment --><p> Output: </p><div class="fragment"><div class="line">Counted 1000 trials. </div>
<div class="line">Optimal d=0.005 sigma=0.07 theta=0.5</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15"></a>
Authors</h1>
<p>Jake Goldman - <a href="#" onclick="location.href='mai'+'lto:'+'jgo'+'ld'+'man'+'@c'+'alt'+'ec'+'h.e'+'du'; return false;">jgold<span class="obfuscator">.nosp@m.</span>man@<span class="obfuscator">.nosp@m.</span>calte<span class="obfuscator">.nosp@m.</span>ch.e<span class="obfuscator">.nosp@m.</span>du</a>, <a href="https://github.com/jakegoldm">jakegoldm</a></p>
<h1><a class="anchor" id="autotoc_md16"></a>
Acknowledgements</h1>
<p>This toolbox was developed as part of a resarch project in the <a href="http://www.rnl.caltech.edu/">Rangel Neuroeconomics Lab</a> at the California Institute of Technology. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>

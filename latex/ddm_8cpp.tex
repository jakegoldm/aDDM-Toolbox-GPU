\doxysection{lib/ddm.cpp File Reference}
\hypertarget{ddm_8cpp}{}\label{ddm_8cpp}\index{lib/ddm.cpp@{lib/ddm.cpp}}
{\ttfamily \#include $<$stdexcept$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$cstddef$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$random$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include $<$iomanip$>$}\newline
{\ttfamily \#include \"{}nlohmann/json.\+hpp\"{}}\newline
{\ttfamily \#include \"{}util.\+h\"{}}\newline
{\ttfamily \#include \"{}ddm.\+h\"{}}\newline
Include dependency graph for ddm.\+cpp\+:
% FIG 0
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{ddm_8cpp_ac42a77bf862f9427fc29a3869525b76e}{DDMParallel\+NLL}} (\mbox{\hyperlink{class_d_d_m}{DDM}} ddm, std\+::vector$<$ \mbox{\hyperlink{class_d_d_m_trial}{DDMTrial}} $>$ trials)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{ddm_8cpp_ac34cf3b3215db72eab8926917db0da7d}{restrict\+Space}} = true
\item 
bool \mbox{\hyperlink{ddm_8cpp_a07f2098d9ced32b0b2e75dded17de056}{use\+GPU}} = false
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{ddm_8cpp_ac42a77bf862f9427fc29a3869525b76e}\label{ddm_8cpp_ac42a77bf862f9427fc29a3869525b76e} 
\index{ddm.cpp@{ddm.cpp}!DDMParallelNLL@{DDMParallelNLL}}
\index{DDMParallelNLL@{DDMParallelNLL}!ddm.cpp@{ddm.cpp}}
\doxysubsubsection{\texorpdfstring{DDMParallelNLL()}{DDMParallelNLL()}}
{\footnotesize\ttfamily double DDMParallel\+NLL (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_d_d_m}{DDM}}}]{ddm,  }\item[{std\+::vector$<$ \mbox{\hyperlink{class_d_d_m_trial}{DDMTrial}} $>$}]{trials }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{ddm_8cpp_source_l00355}{355}} of file \mbox{\hyperlink{ddm_8cpp_source}{ddm.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00356\ \ \ \ \ \textcolor{keywordtype}{double}\ NLL\ =\ 0;}
\DoxyCodeLine{00357\ \ \ \ \ \mbox{\hyperlink{class_b_s_1_1thread__pool}{BS::thread\_pool}}\ pool;}
\DoxyCodeLine{00358\ \ \ \ \ \mbox{\hyperlink{class_b_s_1_1multi__future}{BS::multi\_future<double>}}\ futs\ =\ pool.\mbox{\hyperlink{class_b_s_1_1thread__pool_ab63b1085ad48295d7f653cbb36a286be}{parallelize\_loop}}(}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ 0,\ trials.size(),\ }
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ [\&ddm,\ \&trials](\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ a,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ b)\ \{}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ double\ block\_total\ =\ 0;\ }
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ a;\ i\ <\ b;\ ++i)\ \{}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ block\_total\ +=\ -\/log(}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ddm.getTrialLikelihood(trials[i])}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ block\_total;}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00369\ \ \ \ \ );}
\DoxyCodeLine{00370\ \ \ \ \ std::vector<double>\ totals\ =\ futs.get();}
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ t\ :\ totals)\ \{}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ NLL\ +=\ t;\ }
\DoxyCodeLine{00373\ \ \ \ \ \}}
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keywordflow}{return}\ NLL;}
\DoxyCodeLine{00375\ \}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\Hypertarget{ddm_8cpp_ac34cf3b3215db72eab8926917db0da7d}\label{ddm_8cpp_ac34cf3b3215db72eab8926917db0da7d} 
\index{ddm.cpp@{ddm.cpp}!restrictSpace@{restrictSpace}}
\index{restrictSpace@{restrictSpace}!ddm.cpp@{ddm.cpp}}
\doxysubsubsection{\texorpdfstring{restrictSpace}{restrictSpace}}
{\footnotesize\ttfamily bool restrict\+Space = true}



Definition at line \mbox{\hyperlink{ddm_8cpp_source_l00015}{15}} of file \mbox{\hyperlink{ddm_8cpp_source}{ddm.\+cpp}}.

\Hypertarget{ddm_8cpp_a07f2098d9ced32b0b2e75dded17de056}\label{ddm_8cpp_a07f2098d9ced32b0b2e75dded17de056} 
\index{ddm.cpp@{ddm.cpp}!useGPU@{useGPU}}
\index{useGPU@{useGPU}!ddm.cpp@{ddm.cpp}}
\doxysubsubsection{\texorpdfstring{useGPU}{useGPU}}
{\footnotesize\ttfamily bool use\+GPU = false}



Definition at line \mbox{\hyperlink{ddm_8cpp_source_l00021}{21}} of file \mbox{\hyperlink{ddm_8cpp_source}{ddm.\+cpp}}.


\hypertarget{class_b_s_1_1blocks}{}\doxysection{BS\+::blocks$<$ T1, T2, T $>$ Class Template Reference}
\label{class_b_s_1_1blocks}\index{BS::blocks$<$ T1, T2, T $>$@{BS::blocks$<$ T1, T2, T $>$}}


A helper class to divide a range into blocks. Used by parallelize\+\_\+loop() and push\+\_\+loop().  




{\ttfamily \#include $<$BS\+\_\+thread\+\_\+pool.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_b_s_1_1blocks_a2e938fc32ea845e8a0cf23025c6830c7}{blocks}} (const T1 first\+\_\+index\+\_\+, const T2 index\+\_\+after\+\_\+last\+\_\+, const size\+\_\+t num\+\_\+blocks\+\_\+)
\begin{DoxyCompactList}\small\item\em Construct a blocks object with the given specifications. \end{DoxyCompactList}\item 
T \mbox{\hyperlink{class_b_s_1_1blocks_a7d659984a82cf57e54773d9a88d863ae}{start}} (const size\+\_\+t i) const
\begin{DoxyCompactList}\small\item\em Get the first index of a block. \end{DoxyCompactList}\item 
T \mbox{\hyperlink{class_b_s_1_1blocks_a0f0e08f9eff06a0d8e3b05bf59833c7b}{end}} (const size\+\_\+t i) const
\begin{DoxyCompactList}\small\item\em Get the index after the last index of a block. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{class_b_s_1_1blocks_aed50be83dbe428959cb600197df32c95}{get\+\_\+num\+\_\+blocks}} () const
\begin{DoxyCompactList}\small\item\em Get the number of blocks. Note that this may be different than the desired number of blocks that was passed to the constructor. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{class_b_s_1_1blocks_a5f1214e4fdf05ff4d825d08cf8c66b2b}{get\+\_\+total\+\_\+size}} () const
\begin{DoxyCompactList}\small\item\em Get the total number of indices in the range. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename T1, typename T2, typename T = std\+::common\+\_\+type\+\_\+t$<$\+T1, T2$>$$>$\newline
class BS\+::blocks$<$ T1, T2, T $>$}

A helper class to divide a range into blocks. Used by parallelize\+\_\+loop() and push\+\_\+loop(). 


\begin{DoxyTemplParams}{Template Parameters}
{\em T1} & The type of the first index in the range. Should be a signed or unsigned integer. \\
\hline
{\em T2} & The type of the index after the last index in the range. Should be a signed or unsigned integer. If T1 is not the same as T2, a common type will be automatically inferred. \\
\hline
{\em T} & The common type of T1 and T2. \\
\hline
\end{DoxyTemplParams}


Definition at line 138 of file BS\+\_\+thread\+\_\+pool.\+hpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_b_s_1_1blocks_a2e938fc32ea845e8a0cf23025c6830c7}\label{class_b_s_1_1blocks_a2e938fc32ea845e8a0cf23025c6830c7}} 
\index{BS::blocks$<$ T1, T2, T $>$@{BS::blocks$<$ T1, T2, T $>$}!blocks@{blocks}}
\index{blocks@{blocks}!BS::blocks$<$ T1, T2, T $>$@{BS::blocks$<$ T1, T2, T $>$}}
\doxysubsubsection{\texorpdfstring{blocks()}{blocks()}}
{\footnotesize\ttfamily template$<$typename T1 , typename T2 , typename T  = std\+::common\+\_\+type\+\_\+t$<$\+T1, T2$>$$>$ \\
\mbox{\hyperlink{class_b_s_1_1blocks}{BS\+::blocks}}$<$ T1, T2, T $>$\+::\mbox{\hyperlink{class_b_s_1_1blocks}{blocks}} (\begin{DoxyParamCaption}\item[{const T1}]{first\+\_\+index\+\_\+,  }\item[{const T2}]{index\+\_\+after\+\_\+last\+\_\+,  }\item[{const size\+\_\+t}]{num\+\_\+blocks\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Construct a blocks object with the given specifications. 


\begin{DoxyParams}{Parameters}
{\em first\+\_\+index\+\_\+} & The first index in the range. \\
\hline
{\em index\+\_\+after\+\_\+last\+\_\+} & The index after the last index in the range. \\
\hline
{\em num\+\_\+blocks\+\_\+} & The desired number of blocks to divide the range into. \\
\hline
\end{DoxyParams}


Definition at line 148 of file BS\+\_\+thread\+\_\+pool.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{148                                                                                         : first\_index(\textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(first\_index\_)), index\_after\_last(\textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(index\_after\_last\_)), num\_blocks(num\_blocks\_)}
\DoxyCodeLine{149     \{}
\DoxyCodeLine{150         \textcolor{keywordflow}{if} (index\_after\_last < first\_index)}
\DoxyCodeLine{151             \mbox{\hyperlink{namespacestd_ab5fa3119ddc434392ecca8849e2e08e1}{std::swap}}(index\_after\_last, first\_index);}
\DoxyCodeLine{152         total\_size = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(index\_after\_last -\/ first\_index);}
\DoxyCodeLine{153         block\_size = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(total\_size / num\_blocks);}
\DoxyCodeLine{154         \textcolor{keywordflow}{if} (block\_size == 0)}
\DoxyCodeLine{155         \{}
\DoxyCodeLine{156             block\_size = 1;}
\DoxyCodeLine{157             num\_blocks = (total\_size > 1) ? total\_size : 1;}
\DoxyCodeLine{158         \}}
\DoxyCodeLine{159     \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_b_s_1_1blocks_a0f0e08f9eff06a0d8e3b05bf59833c7b}\label{class_b_s_1_1blocks_a0f0e08f9eff06a0d8e3b05bf59833c7b}} 
\index{BS::blocks$<$ T1, T2, T $>$@{BS::blocks$<$ T1, T2, T $>$}!end@{end}}
\index{end@{end}!BS::blocks$<$ T1, T2, T $>$@{BS::blocks$<$ T1, T2, T $>$}}
\doxysubsubsection{\texorpdfstring{end()}{end()}}
{\footnotesize\ttfamily template$<$typename T1 , typename T2 , typename T  = std\+::common\+\_\+type\+\_\+t$<$\+T1, T2$>$$>$ \\
T \mbox{\hyperlink{class_b_s_1_1blocks}{BS\+::blocks}}$<$ T1, T2, T $>$\+::end (\begin{DoxyParamCaption}\item[{const size\+\_\+t}]{i }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get the index after the last index of a block. 


\begin{DoxyParams}{Parameters}
{\em i} & The block number. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The index after the last index. 
\end{DoxyReturn}


Definition at line 178 of file BS\+\_\+thread\+\_\+pool.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{179     \{}
\DoxyCodeLine{180         \textcolor{keywordflow}{return} (i == num\_blocks -\/ 1) ? index\_after\_last : (\textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}((i + 1) * block\_size) + first\_index);}
\DoxyCodeLine{181     \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_b_s_1_1blocks_aed50be83dbe428959cb600197df32c95}\label{class_b_s_1_1blocks_aed50be83dbe428959cb600197df32c95}} 
\index{BS::blocks$<$ T1, T2, T $>$@{BS::blocks$<$ T1, T2, T $>$}!get\_num\_blocks@{get\_num\_blocks}}
\index{get\_num\_blocks@{get\_num\_blocks}!BS::blocks$<$ T1, T2, T $>$@{BS::blocks$<$ T1, T2, T $>$}}
\doxysubsubsection{\texorpdfstring{get\_num\_blocks()}{get\_num\_blocks()}}
{\footnotesize\ttfamily template$<$typename T1 , typename T2 , typename T  = std\+::common\+\_\+type\+\_\+t$<$\+T1, T2$>$$>$ \\
size\+\_\+t \mbox{\hyperlink{class_b_s_1_1blocks}{BS\+::blocks}}$<$ T1, T2, T $>$\+::get\+\_\+num\+\_\+blocks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get the number of blocks. Note that this may be different than the desired number of blocks that was passed to the constructor. 

\begin{DoxyReturn}{Returns}
The number of blocks. 
\end{DoxyReturn}


Definition at line 188 of file BS\+\_\+thread\+\_\+pool.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{189     \{}
\DoxyCodeLine{190         \textcolor{keywordflow}{return} num\_blocks;}
\DoxyCodeLine{191     \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_b_s_1_1blocks_a5f1214e4fdf05ff4d825d08cf8c66b2b}\label{class_b_s_1_1blocks_a5f1214e4fdf05ff4d825d08cf8c66b2b}} 
\index{BS::blocks$<$ T1, T2, T $>$@{BS::blocks$<$ T1, T2, T $>$}!get\_total\_size@{get\_total\_size}}
\index{get\_total\_size@{get\_total\_size}!BS::blocks$<$ T1, T2, T $>$@{BS::blocks$<$ T1, T2, T $>$}}
\doxysubsubsection{\texorpdfstring{get\_total\_size()}{get\_total\_size()}}
{\footnotesize\ttfamily template$<$typename T1 , typename T2 , typename T  = std\+::common\+\_\+type\+\_\+t$<$\+T1, T2$>$$>$ \\
size\+\_\+t \mbox{\hyperlink{class_b_s_1_1blocks}{BS\+::blocks}}$<$ T1, T2, T $>$\+::get\+\_\+total\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get the total number of indices in the range. 

\begin{DoxyReturn}{Returns}
The total number of indices. 
\end{DoxyReturn}


Definition at line 198 of file BS\+\_\+thread\+\_\+pool.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{199     \{}
\DoxyCodeLine{200         \textcolor{keywordflow}{return} total\_size;}
\DoxyCodeLine{201     \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_b_s_1_1blocks_a7d659984a82cf57e54773d9a88d863ae}\label{class_b_s_1_1blocks_a7d659984a82cf57e54773d9a88d863ae}} 
\index{BS::blocks$<$ T1, T2, T $>$@{BS::blocks$<$ T1, T2, T $>$}!start@{start}}
\index{start@{start}!BS::blocks$<$ T1, T2, T $>$@{BS::blocks$<$ T1, T2, T $>$}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily template$<$typename T1 , typename T2 , typename T  = std\+::common\+\_\+type\+\_\+t$<$\+T1, T2$>$$>$ \\
T \mbox{\hyperlink{class_b_s_1_1blocks}{BS\+::blocks}}$<$ T1, T2, T $>$\+::start (\begin{DoxyParamCaption}\item[{const size\+\_\+t}]{i }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Get the first index of a block. 


\begin{DoxyParams}{Parameters}
{\em i} & The block number. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The first index. 
\end{DoxyReturn}


Definition at line 167 of file BS\+\_\+thread\+\_\+pool.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{168     \{}
\DoxyCodeLine{169         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(i * block\_size) + first\_index;}
\DoxyCodeLine{170     \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/bshoshany/\mbox{\hyperlink{_b_s__thread__pool_8hpp}{BS\+\_\+thread\+\_\+pool.\+hpp}}\end{DoxyCompactItemize}

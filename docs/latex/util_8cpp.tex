\hypertarget{util_8cpp}{}\doxysection{lib/util.cpp File Reference}
\label{util_8cpp}\index{lib/util.cpp@{lib/util.cpp}}
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include $<$sstream$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$stdexcept$>$}\newline
{\ttfamily \#include $<$cassert$>$}\newline
{\ttfamily \#include $<$set$>$}\newline
{\ttfamily \#include $<$cmath$>$}\newline
{\ttfamily \#include $<$functional$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$boost/math/distributions/normal.\+hpp$>$}\newline
{\ttfamily \#include \char`\"{}bshoshany/\+BS\+\_\+thread\+\_\+pool.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}nlohmann/json.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}util.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}addm.\+h\char`\"{}}\newline
Include dependency graph for util.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{util_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{util_8cpp_ab701e3ac61a85b337ec5c1abaad6742d}{json}} = nlohmann\+::json
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{util_8cpp_a3c70684bbd5c18365b967d158305e919}{probability\+Density\+Function}} (float mean, float \mbox{\hyperlink{ddm__simulate_8cpp_ae11aeeb83e22b5b7f1e6b4347eb1daa6}{sigma}}, float x)
\item 
double \mbox{\hyperlink{util_8cpp_ab0c2fb4c0b02fabb15eeab9d6f73e5ab}{cumulative\+Density\+Function}} (float mean, float \mbox{\hyperlink{ddm__simulate_8cpp_ae11aeeb83e22b5b7f1e6b4347eb1daa6}{sigma}}, float x)
\item 
std\+::map$<$ int, std\+::vector$<$ \mbox{\hyperlink{classa_d_d_m_trial}{a\+DDMTrial}} $>$ $>$ \mbox{\hyperlink{util_8cpp_acf31c53f3a21ed9929f7f07404cabfbc}{load\+Data\+From\+CSV}} (std\+::string exp\+Data\+Filename, std\+::string fix\+Data\+Filename)
\item 
\mbox{\hyperlink{class_fixation_data}{Fixation\+Data}} \mbox{\hyperlink{util_8cpp_aa89974bc9be0c44346b9799d9363f829}{get\+Empirical\+Distributions}} (std\+::map$<$ int, std\+::vector$<$ \mbox{\hyperlink{classa_d_d_m_trial}{a\+DDMTrial}} $>$$>$ data, int time\+Step, int Max\+Fix\+Time, int num\+Fix\+Dists, std\+::string fix\+Dist\+Type, std\+::vector$<$ int $>$ value\+Diffs, std\+::vector$<$ int $>$ subject\+IDs, bool use\+Odd\+Trials, bool use\+Even\+Trials, bool use\+Cis\+Trials, bool use\+Trans\+Trials)
\item 
void \mbox{\hyperlink{util_8cpp_ab19bb96bad214677bb8f87ab5691d713}{DDMexport\+Data}} (\mbox{\hyperlink{class_d_d_m}{DDM}} ddm, \mbox{\hyperlink{class_d_d_m_trial}{DDMTrial}} dt)
\item 
void \mbox{\hyperlink{util_8cpp_a97aa8641a43699dcdbb5a052c14cfee1}{a\+DDMexport\+Data}} (\mbox{\hyperlink{classa_d_d_m}{a\+DDM}} addm, \mbox{\hyperlink{classa_d_d_m_trial}{a\+DDMTrial}} adt)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
float \mbox{\hyperlink{util_8cpp_ac02944cc493358b6ef201270bd229165}{SEED}} = 100
\item 
float \mbox{\hyperlink{util_8cpp_ae307adc0568237d1e5bc8802f60f67bf}{DECAY}} = 0
\item 
vector$<$ string $>$ \mbox{\hyperlink{util_8cpp_a99cfa00f5e7249d86df14b3f97b01d5e}{valid\+Fix\+Dist\+Types}} = \{\char`\"{}simple\char`\"{}, \char`\"{}difficulty\char`\"{}, \char`\"{}fixation\char`\"{}\}
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{util_8cpp_ab701e3ac61a85b337ec5c1abaad6742d}\label{util_8cpp_ab701e3ac61a85b337ec5c1abaad6742d}} 
\index{util.cpp@{util.cpp}!json@{json}}
\index{json@{json}!util.cpp@{util.cpp}}
\doxysubsubsection{\texorpdfstring{json}{json}}
{\footnotesize\ttfamily using \mbox{\hyperlink{json_8hpp_ae6eede511f01c9f33342044d36a388fa}{json}} =  nlohmann\+::json}



Definition at line 18 of file util.\+cpp.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{util_8cpp_a97aa8641a43699dcdbb5a052c14cfee1}\label{util_8cpp_a97aa8641a43699dcdbb5a052c14cfee1}} 
\index{util.cpp@{util.cpp}!aDDMexportData@{aDDMexportData}}
\index{aDDMexportData@{aDDMexportData}!util.cpp@{util.cpp}}
\doxysubsubsection{\texorpdfstring{aDDMexportData()}{aDDMexportData()}}
{\footnotesize\ttfamily void a\+DDMexport\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classa_d_d_m}{a\+DDM}}}]{addm,  }\item[{\mbox{\hyperlink{classa_d_d_m_trial}{a\+DDMTrial}}}]{adt }\end{DoxyParamCaption})}



Definition at line 286 of file util.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{286                                               \{}
\DoxyCodeLine{287     std::ofstream o(\textcolor{stringliteral}{"{}results/data.json"{}});}
\DoxyCodeLine{288     \mbox{\hyperlink{classbasic__json}{json}} j;}
\DoxyCodeLine{289     j[\textcolor{stringliteral}{"{}d"{}}] = addm.\mbox{\hyperlink{class_d_d_m_a15511d3cf0f7deb5de073dcdfd09bcc6}{d}};}
\DoxyCodeLine{290     j[\textcolor{stringliteral}{"{}sigma"{}}] = addm.\mbox{\hyperlink{class_d_d_m_a17570a6c2378cdb363437f39a5fa3f00}{sigma}};}
\DoxyCodeLine{291     j[\textcolor{stringliteral}{"{}theta"{}}] = addm.\mbox{\hyperlink{classa_d_d_m_a9c6c014066b0930baaa665b06dec9bb3}{theta}};}
\DoxyCodeLine{292     j[\textcolor{stringliteral}{"{}barrier"{}}] = addm.\mbox{\hyperlink{class_d_d_m_a0293f051d7889ee014fb55c4939e4783}{barrier}};}
\DoxyCodeLine{293     j[\textcolor{stringliteral}{"{}NDT"{}}] = addm.\mbox{\hyperlink{class_d_d_m_a0821be8a65988df0004b4d9f4239a020}{nonDecisionTime}};}
\DoxyCodeLine{294     j[\textcolor{stringliteral}{"{}bias"{}}] = addm.\mbox{\hyperlink{class_d_d_m_a0cecc28e691846bce6dccb02f34aef07}{bias}};}
\DoxyCodeLine{295     j[\textcolor{stringliteral}{"{}RT"{}}] = adt.\mbox{\hyperlink{class_d_d_m_trial_a1fed499f6f800dcf08331b0f08d4570b}{RT}};}
\DoxyCodeLine{296     j[\textcolor{stringliteral}{"{}choice"{}}] = adt.\mbox{\hyperlink{class_d_d_m_trial_a941813496795b5c0f16d068444abf483}{choice}};}
\DoxyCodeLine{297     j[\textcolor{stringliteral}{"{}vl"{}}] = adt.\mbox{\hyperlink{class_d_d_m_trial_ae949e54554e10660f73878a07a95d14d}{valueLeft}};}
\DoxyCodeLine{298     j[\textcolor{stringliteral}{"{}vr"{}}] = adt.\mbox{\hyperlink{class_d_d_m_trial_a9e1a0900b92b8d16fb3bd49894c9dc2c}{valueRight}};}
\DoxyCodeLine{299     j[\textcolor{stringliteral}{"{}RDVs"{}}] = adt.\mbox{\hyperlink{classa_d_d_m_trial_afb1868d3ccccaca0d1f32c4fff6399c3}{RDVs}};}
\DoxyCodeLine{300     j[\textcolor{stringliteral}{"{}fixItem"{}}] = adt.\mbox{\hyperlink{classa_d_d_m_trial_a8b7e649ce0fded823e1191c2f9675cf2}{fixItem}};}
\DoxyCodeLine{301     j[\textcolor{stringliteral}{"{}fixTime"{}}] = adt.\mbox{\hyperlink{classa_d_d_m_trial_adf04171bada997ac559e29629524da2f}{fixTime}};}
\DoxyCodeLine{302     j[\textcolor{stringliteral}{"{}timeStep"{}}] = adt.\mbox{\hyperlink{class_d_d_m_trial_a6fd7d06bba895acb5cf3627343915aac}{timeStep}};}
\DoxyCodeLine{303     o << std::setw(4) << j << std::endl;        }
\DoxyCodeLine{304 \}}

\end{DoxyCode}
\mbox{\Hypertarget{util_8cpp_ab0c2fb4c0b02fabb15eeab9d6f73e5ab}\label{util_8cpp_ab0c2fb4c0b02fabb15eeab9d6f73e5ab}} 
\index{util.cpp@{util.cpp}!cumulativeDensityFunction@{cumulativeDensityFunction}}
\index{cumulativeDensityFunction@{cumulativeDensityFunction}!util.cpp@{util.cpp}}
\doxysubsubsection{\texorpdfstring{cumulativeDensityFunction()}{cumulativeDensityFunction()}}
{\footnotesize\ttfamily double cumulative\+Density\+Function (\begin{DoxyParamCaption}\item[{float}]{mean,  }\item[{float}]{sigma,  }\item[{float}]{x }\end{DoxyParamCaption})}



Definition at line 31 of file util.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{31                                                                    \{}
\DoxyCodeLine{32     boost::math::normal\_distribution<double> dist(mean, \mbox{\hyperlink{addm__nll_8cpp_ae11aeeb83e22b5b7f1e6b4347eb1daa6}{sigma}});}
\DoxyCodeLine{33     \textcolor{keywordtype}{double} cdf = boost::math::cdf(dist, x);}
\DoxyCodeLine{34     \textcolor{keywordflow}{return} cdf;}
\DoxyCodeLine{35 \}}

\end{DoxyCode}
\mbox{\Hypertarget{util_8cpp_ab19bb96bad214677bb8f87ab5691d713}\label{util_8cpp_ab19bb96bad214677bb8f87ab5691d713}} 
\index{util.cpp@{util.cpp}!DDMexportData@{DDMexportData}}
\index{DDMexportData@{DDMexportData}!util.cpp@{util.cpp}}
\doxysubsubsection{\texorpdfstring{DDMexportData()}{DDMexportData()}}
{\footnotesize\ttfamily void DDMexport\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_d_d_m}{DDM}}}]{ddm,  }\item[{\mbox{\hyperlink{class_d_d_m_trial}{DDMTrial}}}]{dt }\end{DoxyParamCaption})}



Definition at line 269 of file util.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{269                                          \{}
\DoxyCodeLine{270     std::ofstream o(\textcolor{stringliteral}{"{}results/data.json"{}});}
\DoxyCodeLine{271     \mbox{\hyperlink{classbasic__json}{json}} j;}
\DoxyCodeLine{272     j[\textcolor{stringliteral}{"{}d"{}}] = ddm.\mbox{\hyperlink{class_d_d_m_a15511d3cf0f7deb5de073dcdfd09bcc6}{d}};}
\DoxyCodeLine{273     j[\textcolor{stringliteral}{"{}sigma"{}}] = ddm.\mbox{\hyperlink{class_d_d_m_a17570a6c2378cdb363437f39a5fa3f00}{sigma}};}
\DoxyCodeLine{274     j[\textcolor{stringliteral}{"{}barrier"{}}] = ddm.\mbox{\hyperlink{class_d_d_m_a0293f051d7889ee014fb55c4939e4783}{barrier}};}
\DoxyCodeLine{275     j[\textcolor{stringliteral}{"{}NDT"{}}] = ddm.\mbox{\hyperlink{class_d_d_m_a0821be8a65988df0004b4d9f4239a020}{nonDecisionTime}};}
\DoxyCodeLine{276     j[\textcolor{stringliteral}{"{}bias"{}}] = ddm.\mbox{\hyperlink{class_d_d_m_a0cecc28e691846bce6dccb02f34aef07}{bias}};}
\DoxyCodeLine{277     j[\textcolor{stringliteral}{"{}RT"{}}] = dt.\mbox{\hyperlink{class_d_d_m_trial_a1fed499f6f800dcf08331b0f08d4570b}{RT}};}
\DoxyCodeLine{278     j[\textcolor{stringliteral}{"{}choice"{}}] = dt.\mbox{\hyperlink{class_d_d_m_trial_a941813496795b5c0f16d068444abf483}{choice}};}
\DoxyCodeLine{279     j[\textcolor{stringliteral}{"{}vl"{}}] = dt.\mbox{\hyperlink{class_d_d_m_trial_ae949e54554e10660f73878a07a95d14d}{valueLeft}};}
\DoxyCodeLine{280     j[\textcolor{stringliteral}{"{}vr"{}}] = dt.\mbox{\hyperlink{class_d_d_m_trial_a9e1a0900b92b8d16fb3bd49894c9dc2c}{valueRight}};}
\DoxyCodeLine{281     j[\textcolor{stringliteral}{"{}RDVs"{}}] = dt.\mbox{\hyperlink{class_d_d_m_trial_aa2f7a89ec8820e74e6fa9af95222a8d7}{RDVs}};}
\DoxyCodeLine{282     j[\textcolor{stringliteral}{"{}timeStep"{}}] = dt.\mbox{\hyperlink{class_d_d_m_trial_a6fd7d06bba895acb5cf3627343915aac}{timeStep}};}
\DoxyCodeLine{283     o << std::setw(4) << j << std::endl;        }
\DoxyCodeLine{284 \}}

\end{DoxyCode}
\mbox{\Hypertarget{util_8cpp_aa89974bc9be0c44346b9799d9363f829}\label{util_8cpp_aa89974bc9be0c44346b9799d9363f829}} 
\index{util.cpp@{util.cpp}!getEmpiricalDistributions@{getEmpiricalDistributions}}
\index{getEmpiricalDistributions@{getEmpiricalDistributions}!util.cpp@{util.cpp}}
\doxysubsubsection{\texorpdfstring{getEmpiricalDistributions()}{getEmpiricalDistributions()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_fixation_data}{Fixation\+Data}} get\+Empirical\+Distributions (\begin{DoxyParamCaption}\item[{std\+::map$<$ int, std\+::vector$<$ \mbox{\hyperlink{classa_d_d_m_trial}{a\+DDMTrial}} $>$$>$}]{data,  }\item[{int}]{time\+Step,  }\item[{int}]{Max\+Fix\+Time,  }\item[{int}]{num\+Fix\+Dists,  }\item[{std\+::string}]{fix\+Dist\+Type,  }\item[{std\+::vector$<$ int $>$}]{value\+Diffs,  }\item[{std\+::vector$<$ int $>$}]{subject\+IDs,  }\item[{bool}]{use\+Odd\+Trials,  }\item[{bool}]{use\+Even\+Trials,  }\item[{bool}]{use\+Cis\+Trials,  }\item[{bool}]{use\+Trans\+Trials }\end{DoxyParamCaption})}



Definition at line 152 of file util.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{161                          \{}
\DoxyCodeLine{162 }
\DoxyCodeLine{163     \textcolor{keywordflow}{if} (!std::count(}
\DoxyCodeLine{164     \mbox{\hyperlink{util_8cpp_a99cfa00f5e7249d86df14b3f97b01d5e}{validFixDistTypes}}.begin(), \mbox{\hyperlink{util_8cpp_a99cfa00f5e7249d86df14b3f97b01d5e}{validFixDistTypes}}.end(), fixDistType)) \{}
\DoxyCodeLine{165         \textcolor{keywordflow}{throw} std::invalid\_argument(}
\DoxyCodeLine{166             \textcolor{stringliteral}{"{}Argument type must be one of \{simple, difficulty, fixation\}"{}});}
\DoxyCodeLine{167     \}}
\DoxyCodeLine{168 }
\DoxyCodeLine{169     \textcolor{keywordtype}{int} countLeftFirst = 0;}
\DoxyCodeLine{170     \textcolor{keywordtype}{int} countTotalTrials = 0;}
\DoxyCodeLine{171     std::vector<int> latencies;}
\DoxyCodeLine{172     std::vector<int> transitions;}
\DoxyCodeLine{173     std::map<int, std::vector<float>> fixations;}
\DoxyCodeLine{174 }
\DoxyCodeLine{175     \textcolor{keywordflow}{if} (subjectIDs.empty()) \{}
\DoxyCodeLine{176         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i : \mbox{\hyperlink{namespaceaddm__mle_a45bb5f22de01ea20f39252f7d611df77}{data}}) \{}
\DoxyCodeLine{177             subjectIDs.push\_back(i.first);}
\DoxyCodeLine{178         \}}
\DoxyCodeLine{179     \}}
\DoxyCodeLine{180 }
\DoxyCodeLine{181     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} subjectID : subjectIDs) \{}
\DoxyCodeLine{182         \textcolor{keywordtype}{int} trialID = 0;}
\DoxyCodeLine{183         \textcolor{keywordflow}{for} (\mbox{\hyperlink{classa_d_d_m_trial}{aDDMTrial}} trial : \mbox{\hyperlink{namespaceaddm__mle_a45bb5f22de01ea20f39252f7d611df77}{data}}.at(subjectID)) \{}
\DoxyCodeLine{184             \textcolor{keywordflow}{if} (!useOddTrials \&\& trialID \% 2 != 0) \{}
\DoxyCodeLine{185                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{186             \}}
\DoxyCodeLine{187             \textcolor{keywordflow}{if} (!useEvenTrials \&\& trialID \% 2 == 0) \{}
\DoxyCodeLine{188                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{189             \}}
\DoxyCodeLine{190             \textcolor{keywordtype}{bool} isCisTrial = trial.valueLeft * trial.valueRight >= 0 ? true : \textcolor{keyword}{false};}
\DoxyCodeLine{191             \textcolor{keywordtype}{bool} isTransTrial = trial.valueLeft * trial.valueRight <= 0 ? true : \textcolor{keyword}{false};}
\DoxyCodeLine{192             \textcolor{keywordflow}{if} (!useCisTrials \&\& isCisTrial \&\& !isTransTrial) \{}
\DoxyCodeLine{193                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{194             \}}
\DoxyCodeLine{195             \textcolor{keywordflow}{if} (!useTransTrials \&\& isTransTrial \&\& !isCisTrial) \{}
\DoxyCodeLine{196                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{197             \}}
\DoxyCodeLine{198             \textcolor{keywordtype}{bool} allZero = std::all\_of(}
\DoxyCodeLine{199                 trial.fixItem.begin(), trial.fixItem.end(), }
\DoxyCodeLine{200                 [](\textcolor{keywordtype}{int} i)\{return i == 0;\}}
\DoxyCodeLine{201             );}
\DoxyCodeLine{202             \textcolor{keywordtype}{bool} containsOne = std::find(}
\DoxyCodeLine{203                 trial.fixItem.begin(), trial.fixItem.end(), 1) != trial.fixItem.end();}
\DoxyCodeLine{204             \textcolor{keywordtype}{bool} containsTwo = std::find(}
\DoxyCodeLine{205                 trial.fixItem.begin(), trial.fixItem.end(), 2) != trial.fixItem.end();}
\DoxyCodeLine{206             \textcolor{keywordflow}{if} (allZero || !(containsOne || containsTwo)) \{}
\DoxyCodeLine{207                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{208             \}}
\DoxyCodeLine{209 }
\DoxyCodeLine{210             std::map<int, int> fixUnfixValueDiffs;}
\DoxyCodeLine{211             fixUnfixValueDiffs.insert(\{1, trial.valueLeft -\/ trial.valueRight\});}
\DoxyCodeLine{212             fixUnfixValueDiffs.insert(\{2, trial.valueRight -\/ trial.valueLeft\});}
\DoxyCodeLine{213 }
\DoxyCodeLine{214             \textcolor{keywordtype}{int} excludeCount = 0;}
\DoxyCodeLine{215             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = trial.fixItem.size() -\/ 1; i >= 0; i-\/-\/) \{}
\DoxyCodeLine{216                 excludeCount++;}
\DoxyCodeLine{217                 \textcolor{keywordflow}{if} (trial.fixItem[i] == 1 || trial.fixItem[i] == 2) \{}
\DoxyCodeLine{218                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{219                 \}}
\DoxyCodeLine{220             \}}
\DoxyCodeLine{221 }
\DoxyCodeLine{222             \textcolor{keywordtype}{int} latency = 0;}
\DoxyCodeLine{223             \textcolor{keywordtype}{bool} firstItemFixReached = \textcolor{keyword}{false};}
\DoxyCodeLine{224             \textcolor{keywordtype}{int} fixNumber = 1;}
\DoxyCodeLine{225             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < trial.fixItem.size() -\/ excludeCount; i++) \{}
\DoxyCodeLine{226                 \textcolor{keywordflow}{if} (trial.fixItem.at(i) != 1 \&\& trial.fixItem.at(i) != 2) \{}
\DoxyCodeLine{227                     \textcolor{keywordflow}{if} (!firstItemFixReached) \{}
\DoxyCodeLine{228                         latency += trial.fixTime.at(i);}
\DoxyCodeLine{229                     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (}
\DoxyCodeLine{230                         trial.fixTime.at(i) >= timeStep \&\&}
\DoxyCodeLine{231                         trial.fixTime.at(i) <= MaxFixTime}
\DoxyCodeLine{232                         ) \{}
\DoxyCodeLine{233                         transitions.push\_back(trial.fixTime.at(i));}
\DoxyCodeLine{234                     \}}
\DoxyCodeLine{235                 \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{236                     \textcolor{keywordflow}{if} (!firstItemFixReached) \{}
\DoxyCodeLine{237                         firstItemFixReached = \textcolor{keyword}{true};}
\DoxyCodeLine{238                         latencies.push\_back(latency);}
\DoxyCodeLine{239                     \}}
\DoxyCodeLine{240                     \textcolor{keywordflow}{if} (fixNumber == 1) \{}
\DoxyCodeLine{241                         countTotalTrials++;}
\DoxyCodeLine{242                         \textcolor{keywordflow}{if} (trial.fixItem.at(i) == 1) \{}
\DoxyCodeLine{243                             countLeftFirst++;}
\DoxyCodeLine{244                         \}}
\DoxyCodeLine{245                     \}}
\DoxyCodeLine{246                     \textcolor{keywordflow}{if} (trial.fixTime.at(i) >= timeStep \&\& }
\DoxyCodeLine{247                         trial.fixTime.at(i) <= MaxFixTime}
\DoxyCodeLine{248                         ) \{}
\DoxyCodeLine{249                         \textcolor{keywordflow}{if} (fixDistType == \textcolor{stringliteral}{"{}simple"{}}) \{}
\DoxyCodeLine{250                             \textcolor{keywordflow}{if} (!fixations.count(fixNumber)) \{}
\DoxyCodeLine{251                                 fixations.insert(\{fixNumber, \{\}\});}
\DoxyCodeLine{252                             \}}
\DoxyCodeLine{253                             fixations.at(fixNumber).push\_back(trial.fixTime.at(i));}
\DoxyCodeLine{254                         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{255                             \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}not implemented"{}});}
\DoxyCodeLine{256                         \}}
\DoxyCodeLine{257                     \}}
\DoxyCodeLine{258                     \textcolor{keywordflow}{if} (fixNumber < numFixDists) \{}
\DoxyCodeLine{259                         fixNumber++;}
\DoxyCodeLine{260                     \}}
\DoxyCodeLine{261                 \}}
\DoxyCodeLine{262             \}}
\DoxyCodeLine{263         \}}
\DoxyCodeLine{264     \}}
\DoxyCodeLine{265     \textcolor{keywordtype}{float} probFixLeftFirst = (float) countLeftFirst / (\textcolor{keywordtype}{float}) countTotalTrials;}
\DoxyCodeLine{266     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_fixation_data}{FixationData}}(probFixLeftFirst, latencies, transitions, fixations, fixDistType);}
\DoxyCodeLine{267 \}}

\end{DoxyCode}
\mbox{\Hypertarget{util_8cpp_acf31c53f3a21ed9929f7f07404cabfbc}\label{util_8cpp_acf31c53f3a21ed9929f7f07404cabfbc}} 
\index{util.cpp@{util.cpp}!loadDataFromCSV@{loadDataFromCSV}}
\index{loadDataFromCSV@{loadDataFromCSV}!util.cpp@{util.cpp}}
\doxysubsubsection{\texorpdfstring{loadDataFromCSV()}{loadDataFromCSV()}}
{\footnotesize\ttfamily std\+::map$<$int, std\+::vector$<$\mbox{\hyperlink{classa_d_d_m_trial}{a\+DDMTrial}}$>$ $>$ load\+Data\+From\+CSV (\begin{DoxyParamCaption}\item[{std\+::string}]{exp\+Data\+Filename,  }\item[{std\+::string}]{fix\+Data\+Filename }\end{DoxyParamCaption})}



Definition at line 37 of file util.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{39                                \{}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     \textcolor{comment}{// subjectID -\/> aDDM Trials}}
\DoxyCodeLine{42     std::map<int, std::vector<aDDMTrial>> \mbox{\hyperlink{namespaceaddm__mle_a45bb5f22de01ea20f39252f7d611df77}{data}};}
\DoxyCodeLine{43     std::map<int, std::vector<EXPEntry>> IDtoEXP;}
\DoxyCodeLine{44     std::set<int> subjectIDs;}
\DoxyCodeLine{45 }
\DoxyCodeLine{46     std::ifstream expFile(expDataFilename);}
\DoxyCodeLine{47     std::vector<EXPEntry> expData;}
\DoxyCodeLine{48     std::string eline;}
\DoxyCodeLine{49     std::getline(expFile, eline);}
\DoxyCodeLine{50     \textcolor{keywordflow}{while} (std::getline(expFile, eline)) \{}
\DoxyCodeLine{51         std::stringstream ss(eline);}
\DoxyCodeLine{52         std::string field;}
\DoxyCodeLine{53         \mbox{\hyperlink{struct_e_x_p_entry}{EXPEntry}} entry;}
\DoxyCodeLine{54         std::getline(ss, field, \textcolor{charliteral}{','});}
\DoxyCodeLine{55         entry.\mbox{\hyperlink{struct_e_x_p_entry_afb41b06a848405f031240bb472b90e41}{parcode}} = std::stoi(field);}
\DoxyCodeLine{56         subjectIDs.insert(entry.\mbox{\hyperlink{struct_e_x_p_entry_afb41b06a848405f031240bb472b90e41}{parcode}});}
\DoxyCodeLine{57         std::getline(ss, field, \textcolor{charliteral}{','});}
\DoxyCodeLine{58         entry.\mbox{\hyperlink{struct_e_x_p_entry_a814ce5db190d0a0bfc140ae67000b256}{trial}} = std::stoi(field);}
\DoxyCodeLine{59         std::getline(ss, field, \textcolor{charliteral}{','});}
\DoxyCodeLine{60         entry.\mbox{\hyperlink{struct_e_x_p_entry_a43a1a290bc02f8660c5d8e9a1c408992}{rt}} = std::stoi(field);}
\DoxyCodeLine{61         std::getline(ss, field, \textcolor{charliteral}{','});}
\DoxyCodeLine{62         entry.\mbox{\hyperlink{struct_e_x_p_entry_aeb120a3e1894866365dc659974ff76b9}{choice}} = std::stoi(field);}
\DoxyCodeLine{63         std::getline(ss, field, \textcolor{charliteral}{','});}
\DoxyCodeLine{64         entry.\mbox{\hyperlink{struct_e_x_p_entry_abcf10cc3581a6e312b50b9be551a14fa}{item\_left}} = std::stoi(field);}
\DoxyCodeLine{65         std::getline(ss, field, \textcolor{charliteral}{','});}
\DoxyCodeLine{66         entry.\mbox{\hyperlink{struct_e_x_p_entry_a4e121c1ea9c09c74a77598892b92722a}{item\_right}} = std::stoi(field);}
\DoxyCodeLine{67         std::getline(ss, field, \textcolor{charliteral}{','});}
\DoxyCodeLine{68         entry.\mbox{\hyperlink{struct_e_x_p_entry_affa94941751e5821849cfb5ce67e99bb}{valid}} = std::stoi(field);}
\DoxyCodeLine{69         expData.push\_back(entry);}
\DoxyCodeLine{70         \textcolor{keywordflow}{if} (IDtoEXP.count(entry.\mbox{\hyperlink{struct_e_x_p_entry_afb41b06a848405f031240bb472b90e41}{parcode}})) \{}
\DoxyCodeLine{71             IDtoEXP.at(entry.\mbox{\hyperlink{struct_e_x_p_entry_afb41b06a848405f031240bb472b90e41}{parcode}}).push\_back(entry);}
\DoxyCodeLine{72         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{73             IDtoEXP.insert(\{entry.\mbox{\hyperlink{struct_e_x_p_entry_afb41b06a848405f031240bb472b90e41}{parcode}}, \{\}\});}
\DoxyCodeLine{74         \}}
\DoxyCodeLine{75     \}}
\DoxyCodeLine{76     expFile.close();}
\DoxyCodeLine{77 }
\DoxyCodeLine{78     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} subjectID : subjectIDs) \{}
\DoxyCodeLine{79         \mbox{\hyperlink{namespaceaddm__mle_a45bb5f22de01ea20f39252f7d611df77}{data}}.insert(\{subjectID, \{\}\});}
\DoxyCodeLine{80         std::set<int> trialIDs;}
\DoxyCodeLine{81         \textcolor{keywordflow}{for} (\mbox{\hyperlink{struct_e_x_p_entry}{EXPEntry}} e : expData) \{}
\DoxyCodeLine{82             \textcolor{keywordflow}{if} (e.parcode == subjectID) \{}
\DoxyCodeLine{83                 trialIDs.insert(e.trial);}
\DoxyCodeLine{84             \}}
\DoxyCodeLine{85         \}}
\DoxyCodeLine{86         std::vector<int> dataTrial;}
\DoxyCodeLine{87         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} trialID : trialIDs) \{}
\DoxyCodeLine{88             \textcolor{keywordflow}{for} (\mbox{\hyperlink{struct_e_x_p_entry}{EXPEntry}} e : expData) \{}
\DoxyCodeLine{89                 \textcolor{keywordflow}{if} (e.trial == trialID \&\& e.parcode == subjectID) \{}
\DoxyCodeLine{90                     \mbox{\hyperlink{namespaceaddm__mle_a45bb5f22de01ea20f39252f7d611df77}{data}}.at(subjectID).push\_back(}
\DoxyCodeLine{91                         \mbox{\hyperlink{classa_d_d_m_trial}{aDDMTrial}}(e.rt, e.choice, e.item\_left, e.item\_right)}
\DoxyCodeLine{92                     );}
\DoxyCodeLine{93                 \}   }
\DoxyCodeLine{94             \}}
\DoxyCodeLine{95         \}}
\DoxyCodeLine{96     \}}
\DoxyCodeLine{97     }
\DoxyCodeLine{98 }
\DoxyCodeLine{99     std::ifstream fixFile(fixDataFilename);}
\DoxyCodeLine{100     std::vector<FIXEntry> fixData;}
\DoxyCodeLine{101     subjectIDs.clear();}
\DoxyCodeLine{102     std::string fline;}
\DoxyCodeLine{103     std::getline(fixFile, fline); }
\DoxyCodeLine{104     \textcolor{keywordflow}{while} (std::getline(fixFile, fline)) \{}
\DoxyCodeLine{105         std::stringstream ss(fline);}
\DoxyCodeLine{106         std::string field;}
\DoxyCodeLine{107         \mbox{\hyperlink{struct_f_i_x_entry}{FIXEntry}} entry;}
\DoxyCodeLine{108         std::getline(ss, field, \textcolor{charliteral}{','});}
\DoxyCodeLine{109         entry.\mbox{\hyperlink{struct_f_i_x_entry_ad84feb6101d45d8e0185f4c5d7d6eda6}{parcode}} = std::stoi(field);}
\DoxyCodeLine{110         subjectIDs.insert(entry.\mbox{\hyperlink{struct_f_i_x_entry_ad84feb6101d45d8e0185f4c5d7d6eda6}{parcode}});}
\DoxyCodeLine{111         std::getline(ss, field, \textcolor{charliteral}{','});}
\DoxyCodeLine{112         entry.\mbox{\hyperlink{struct_f_i_x_entry_a223c8eadacc1167257c090ee15583a86}{trial}} = std::stoi(field);}
\DoxyCodeLine{113         std::getline(ss, field, \textcolor{charliteral}{','});}
\DoxyCodeLine{114         entry.\mbox{\hyperlink{struct_f_i_x_entry_ab8dae621fb7d2e1d5138e169052c8204}{fix\_item}} = std::stoi(field);}
\DoxyCodeLine{115         std::getline(ss, field, \textcolor{charliteral}{','});}
\DoxyCodeLine{116         entry.\mbox{\hyperlink{struct_f_i_x_entry_ac3914d30819086524963758e3738052c}{fix\_time}} = std::stoi(field);}
\DoxyCodeLine{117         fixData.push\_back(entry);}
\DoxyCodeLine{118     \}}
\DoxyCodeLine{119     fixFile.close();}
\DoxyCodeLine{120 }
\DoxyCodeLine{121     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} subjectID : subjectIDs) \{}
\DoxyCodeLine{122         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespaceaddm__mle_a45bb5f22de01ea20f39252f7d611df77}{data}}.count(subjectID)) \{}
\DoxyCodeLine{123             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{124         \}}
\DoxyCodeLine{125         std::set<int> trialIDs;}
\DoxyCodeLine{126         std::vector<FIXEntry> subjectEntries;}
\DoxyCodeLine{127         \textcolor{keywordflow}{for} (\mbox{\hyperlink{struct_f_i_x_entry}{FIXEntry}} f : fixData) \{}
\DoxyCodeLine{128             \textcolor{keywordflow}{if} (f.parcode == subjectID) \{}
\DoxyCodeLine{129                 trialIDs.insert(f.trial);}
\DoxyCodeLine{130                 subjectEntries.push\_back(f);}
\DoxyCodeLine{131             \}}
\DoxyCodeLine{132         \}}
\DoxyCodeLine{133         \textcolor{keywordtype}{int} t = 0;}
\DoxyCodeLine{134         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} trialID : trialIDs) \{}
\DoxyCodeLine{135             std::vector<int> fixItem;}
\DoxyCodeLine{136             std::vector<int> fixTime;}
\DoxyCodeLine{137             \textcolor{keywordflow}{for} (\mbox{\hyperlink{struct_f_i_x_entry}{FIXEntry}} fs : subjectEntries) \{}
\DoxyCodeLine{138                 \textcolor{keywordflow}{if} (fs.trial == trialID) \{}
\DoxyCodeLine{139                     fixItem.push\_back(fs.fix\_item);}
\DoxyCodeLine{140                     fixTime.push\_back(fs.fix\_time);}
\DoxyCodeLine{141                 \}}
\DoxyCodeLine{142             \}}
\DoxyCodeLine{143             \mbox{\hyperlink{namespaceaddm__mle_a45bb5f22de01ea20f39252f7d611df77}{data}}.at(subjectID).at(t).fixItem = fixItem;}
\DoxyCodeLine{144             \mbox{\hyperlink{namespaceaddm__mle_a45bb5f22de01ea20f39252f7d611df77}{data}}.at(subjectID).at(t).fixTime = fixTime;}
\DoxyCodeLine{145             t++;}
\DoxyCodeLine{146         \}}
\DoxyCodeLine{147     \}}
\DoxyCodeLine{148     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceaddm__mle_a45bb5f22de01ea20f39252f7d611df77}{data}};}
\DoxyCodeLine{149 \}}

\end{DoxyCode}
\mbox{\Hypertarget{util_8cpp_a3c70684bbd5c18365b967d158305e919}\label{util_8cpp_a3c70684bbd5c18365b967d158305e919}} 
\index{util.cpp@{util.cpp}!probabilityDensityFunction@{probabilityDensityFunction}}
\index{probabilityDensityFunction@{probabilityDensityFunction}!util.cpp@{util.cpp}}
\doxysubsubsection{\texorpdfstring{probabilityDensityFunction()}{probabilityDensityFunction()}}
{\footnotesize\ttfamily double probability\+Density\+Function (\begin{DoxyParamCaption}\item[{float}]{mean,  }\item[{float}]{sigma,  }\item[{float}]{x }\end{DoxyParamCaption})}



Definition at line 25 of file util.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{25                                                                     \{}
\DoxyCodeLine{26     boost::math::normal\_distribution<double> dist(mean, \mbox{\hyperlink{addm__nll_8cpp_ae11aeeb83e22b5b7f1e6b4347eb1daa6}{sigma}});}
\DoxyCodeLine{27     \textcolor{keywordtype}{double} pdf = boost::math::pdf(dist, x);}
\DoxyCodeLine{28     \textcolor{keywordflow}{return} pdf; }
\DoxyCodeLine{29 \}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{util_8cpp_ae307adc0568237d1e5bc8802f60f67bf}\label{util_8cpp_ae307adc0568237d1e5bc8802f60f67bf}} 
\index{util.cpp@{util.cpp}!DECAY@{DECAY}}
\index{DECAY@{DECAY}!util.cpp@{util.cpp}}
\doxysubsubsection{\texorpdfstring{DECAY}{DECAY}}
{\footnotesize\ttfamily float DECAY = 0}



Definition at line 21 of file util.\+cpp.

\mbox{\Hypertarget{util_8cpp_ac02944cc493358b6ef201270bd229165}\label{util_8cpp_ac02944cc493358b6ef201270bd229165}} 
\index{util.cpp@{util.cpp}!SEED@{SEED}}
\index{SEED@{SEED}!util.cpp@{util.cpp}}
\doxysubsubsection{\texorpdfstring{SEED}{SEED}}
{\footnotesize\ttfamily float SEED = 100}



Definition at line 20 of file util.\+cpp.

\mbox{\Hypertarget{util_8cpp_a99cfa00f5e7249d86df14b3f97b01d5e}\label{util_8cpp_a99cfa00f5e7249d86df14b3f97b01d5e}} 
\index{util.cpp@{util.cpp}!validFixDistTypes@{validFixDistTypes}}
\index{validFixDistTypes@{validFixDistTypes}!util.cpp@{util.cpp}}
\doxysubsubsection{\texorpdfstring{validFixDistTypes}{validFixDistTypes}}
{\footnotesize\ttfamily vector$<$string$>$ valid\+Fix\+Dist\+Types = \{\char`\"{}simple\char`\"{}, \char`\"{}difficulty\char`\"{}, \char`\"{}fixation\char`\"{}\}}



Definition at line 22 of file util.\+cpp.

